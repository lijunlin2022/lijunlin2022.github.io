"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["637"],{14684:function(n,e,t){t.r(e),t.d(e,{default:()=>l});var i=t("85893"),r=t("50065"),s=t("2544"),a=t("95895");let o=t.p+"static/image/mouse-drawing.aa094680.gif";function c(n){let e=Object.assign({h1:"h1",a:"a",p:"p",img:"img",pre:"pre",code:"code"},(0,r.ah)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"鼠标绘制",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#鼠标绘制",children:"#"}),"鼠标绘制"]}),"\n",(0,i.jsx)(a.Z,{defaultLocale:"zh-CN"}),"\n",(0,i.jsx)(e.p,{children:"webgl 的 x, y, z 坐标轴，取值是从 -1 到 1。"}),"\n",(0,i.jsx)(s.Z,Object.assign({code:"graph LR;\r\nA[添加点击事件] --\x3e B[获取点击坐标] --\x3e C[转换为 canvas 坐标] --\x3e D[转换为 webgl 坐标]"},{config:{}})),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:o})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",meta:"",children:"const program = initShader(gl, VERTEX_SHADER_SOURCE, FRAGMENT_SHADER_SOURCE)\r\nconst aPosition = gl.getAttribLocation(program, 'aPosition')\r\n\r\nconst points = []\r\ncanvas.onmousemove = function (event) {\r\n  const { clientX, clientY } = event\r\n  const domPosition = event.target.getBoundingClientRect()\r\n  const { left, top, width, height } = domPosition\r\n  const halfWidth = width / 2\r\n  const halfHeight = height / 2\r\n\r\n  const x = (clientX - halfWidth) / halfWidth\r\n  const y = (halfHeight - clientY) / halfHeight\r\n\r\n  points.push({ x, y })\r\n\r\n  points.forEach(p => {\r\n    gl.vertexAttrib2f(aPosition, p.x, p.y)\r\n    gl.drawArrays(gl.POINTS, 0, 1)\r\n  })\r\n}\n"})})]})}function h(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,r.ah)(),n.components);return e?(0,i.jsx)(e,Object.assign({},n,{children:(0,i.jsx)(c,n)})):c(n)}let l=h;h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["docs%2Fwebgl%2F03-mouse-drawing.md"]={toc:[],title:"鼠标绘制",frontmatter:{}}}}]);