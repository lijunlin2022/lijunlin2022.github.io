"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["8002"],{6030:function(n,e,r){r.r(e),r.d(e,{default:function(){return a}});var t=r(5893),s=r(65);function c(n){let e=Object.assign({h1:"h1",a:"a",p:"p",pre:"pre",code:"code",h2:"h2",img:"img"},(0,s.ah)(),n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.h1,{id:"rune",children:["rune",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#rune",children:"#"})]}),"\n",(0,t.jsx)(e.p,{children:"在介绍 rune 之前，我们先看一段运行的结果。"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'func main() {\r\n  str := "go语言"\r\n  fmt.Println(len(str)) // 8\r\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:["这是为什么呢？我们知道，字符底层是由字节序列构成的，在 go 语言底层，英文只占了 1 字节，而中文则占了 3 字节，所以长度就是 ",(0,t.jsx)(e.code,{children:"1 * 2 + 3 * 2 = 8"}),"。"]}),"\n",(0,t.jsxs)(e.h2,{id:"定义",children:["定义",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#定义",children:"#"})]}),"\n",(0,t.jsxs)(e.p,{children:["go 语言中有两种定义方式，一种是「类型定义声明」，比如 int string 等；另外一种是「类型别名声明」，",(0,t.jsx)(e.code,{children:"rune"})," 和 ",(0,t.jsx)(e.code,{children:"byte"})," 就是 go 语言原生的两个类型别名，专门用来处理字符。"]}),"\n",(0,t.jsx)(e.p,{children:"go 语言把字符分为 byte 和 rune 两种类型处理。byte 是类型 uint8 的别名，用于存放占 1 字节的 ASCII 码。rune 是类型 int32 的别名，用于存放多字节的字符，比如 3 字节的中文符号。"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'func main() {\r\n  str := "go语言"\r\n\r\n  fmt.Println([]byte(str)) // [103 111 232 175 173 232 168 128]\r\n  fmt.Println([]rune(str)) // [103 111 35821 35328]\r\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"http://www.17bigdata.com/study/static.codebaoku.com/pics/90/3f/903f8934ecdb0afda388a617c0e6b4a7.jpg",alt:""})}),"\n",(0,t.jsx)(e.p,{children:"现在我们再回看文章开始时的问题，我们可以这样解决？"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'func main() {\r\n  str := "go语言"\r\n  fmt.Println(utf8.RuneCountInString(str)) // 4\r\n}\n'})})]})}function i(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,s.ah)(),n.components);return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(c,{...n})}):c(n)}let a=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["docs%2Fgo%2F03-rune.md"]={toc:[{text:"定义",id:"定义",depth:2}],title:"rune",frontmatter:{}}}}]);