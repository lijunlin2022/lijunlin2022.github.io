"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["2188"],{91228:function(n,e,r){r.r(e),r.d(e,{default:function(){return a}});var t=r(85893),i=r(50065),l=r(95895);function s(n){let e=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",pre:"pre",code:"code"},(0,i.ah)(),n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.h1,{id:"父组件调用子组件方法",children:[(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#父组件调用子组件方法",children:"#"}),"父组件调用子组件方法"]}),"\n",(0,t.jsx)(l.Z,{defaultLocale:"zh-CN"}),"\n",(0,t.jsx)(e.p,{children:"React 使用 Function Components 时，如果父组件要调用子组件的方法，则需要用到三个 Hooks:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"useRef"}),"\n",(0,t.jsx)(e.li,{children:"forwardRef"}),"\n",(0,t.jsx)(e.li,{children:"useImperativeHandle"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"用法如下："}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",meta:"",children:"// highlight-next-line\r\nimport { useRef, forwardRef, useImperativeHandle } from 'react'\r\n\r\n// highlight-next-line\r\nconst Child = forwardRef((props, ref) => {\r\n  const printSomething = () =>{\r\n    alert('alert from child function')\r\n  }\r\n  // highlight-next-line\r\n  useImperativeHandle(ref, () => ({\r\n    printSomething: printSomething\r\n  }))\r\n\r\n  return <div>Child Component</div>\r\n})\r\n\r\nconst Parent = (props) => {\r\n  // highlight-next-line\r\n  const childRef = useRef()\r\n\r\n  return (\r\n    <div>\r\n      {/* highlight-next-line */}\r\n      <Child ref={childRef} />\r\n      <button onClick={() => childRef.current.printSomething()}>Click</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Parent\n"})}),"\n",(0,t.jsx)(e.p,{children:"下面是一个实时演示："}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",meta:"live",children:"function Parent(props) {\r\n\r\n  const Child = forwardRef((props, ref) => {\r\n    const printSomething = () =>{\r\n      alert('alert from child function')\r\n    }\r\n    useImperativeHandle(ref, () => ({\r\n      printSomething: printSomething\r\n    }))\r\n\r\n    return <div>Child Component</div>\r\n  })\r\n\r\n  const childRef = useRef()\r\n\r\n  return (\r\n    <div>\r\n      <Child ref={childRef} />\r\n      <button onClick={() => childRef.current.printSomething()}>Click</button>\r\n    </div>\r\n  )\r\n}\n"})})]})}function c(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,i.ah)(),n.components);return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(s,n)})):s(n)}let a=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["docs%2Freact%2F01-%E7%88%B6%E7%BB%84%E4%BB%B6%E8%B0%83%E7%94%A8%E5%AD%90%E7%BB%84%E4%BB%B6%E6%96%B9%E6%B3%95.md"]={toc:[],title:"父组件调用子组件方法",frontmatter:{}}},95895:function(n,e,r){r.d(e,{Z:function(){return a}});var t=r(85893),i=r(67294),l=r(45687);r(6175);let s={"zh-CN":n=>`预计阅读时间: ${n.minutes>=1?`${Math.ceil(n.minutes)} 分钟`:"小于 1 分钟"}`,"en-US":n=>`Estimated reading time: ${n.minutes>=1?`${Math.ceil(n.minutes)} minutes`:"less than 1 minute"}`};function c(n,e,r){let t=Object.keys(s).includes(e)?e:r;return s[t](n)}let a=n=>{let{defaultLocale:e="en-US"}=n,r=(0,l.Vi)().page.readingTimeData,s=(0,l.Jr)(),a=(0,l.e7)(),[h,d]=(0,i.useState)(c(r,s,e));return(0,i.useEffect)(()=>{d(c(r,s,e))},[s,r]),(0,t.jsx)("span",{"data-dark":String(a),className:"rp-reading-time",children:h})}}}]);