"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["3441"],{41983:function(e,n,r){r.r(n),r.d(n,{default:()=>h});var t=r("85893"),i=r("50065"),a=r("95895");let c=r.p+"static/image/wx.91944443.gif",s=r.p+"static/image/card.1ab2cb27.gif";function d(e){let n=Object.assign({h1:"h1",a:"a",p:"p",img:"img",h2:"h2",pre:"pre",code:"code"},(0,i.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"仿微信读书h5-翻转卡片如何实现",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#仿微信读书h5-翻转卡片如何实现",children:"#"}),"仿微信读书，H5 翻转卡片如何实现？"]}),"\n",(0,t.jsx)(a.Z,{defaultLocale:"zh-CN"}),"\n",(0,t.jsx)(n.p,{children:"我最近刷微信读书时，留意到它的推荐卡片会翻转，这个效果该怎么做呢？"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:c})}),"\n",(0,t.jsx)(n.p,{children:"本文我会先介绍翻转卡片的布局、动画，再并给出完整代码，最后做一个总结。最终效果如下："}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:s})}),"\n",(0,t.jsx)(n.p,{children:"拳打 H5，脚踢小程序。我是「小霖家的混江龙」，关注我，带你了解更多实用的 H5、小程序武学。"}),"\n",(0,t.jsxs)(n.h2,{id:"布局代码",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#布局代码",children:"#"}),"布局代码"]}),"\n",(0,t.jsx)(n.p,{children:"我们先看布局，实现翻转卡片需要要把两个元素背靠背贴在一起，就像汉堡包的面饼中间不夹蔬菜、肉饼一样。"}),"\n",(0,t.jsx)(n.p,{children:"代码如下，有一个盒子 box 里面装着两个元素 front 的 back，front 用来做卡片的正面，back 用来做卡片的背面。"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",meta:"",children:'<style>\r\n  .box {\r\n    position: relative;\r\n    /* ... 省略 */\r\n  }\r\n  #front, #back {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    backface-visibility: hidden;\r\n    /* ... 省略 */\r\n  }\r\n  #back {\r\n    transform: rotateY(-180deg);\r\n    /* ... 省略 */\r\n  }\r\n</style>\r\n<div class="box">\r\n  <div id="front"></div>\r\n  <div id="back"></div>\r\n</div>\r\n<div id="btn">翻转</div>\n'})}),"\n",(0,t.jsx)(n.p,{children:"box 是相对定位，而 front，back 则是绝对定位，这意味着 front 和 back 是重叠的。"}),"\n",(0,t.jsxs)(n.p,{children:["我们让 back 绕着 Y 轴逆时针旋转了 180 度 —— ",(0,t.jsx)(n.code,{children:"rotateY(-180deg)"}),"，并给 front 和 back 都设置了背面不可见属性 —— ",(0,t.jsx)(n.code,{children:"backface-visibility: hidden;"})," 属性，便实现了卡片的背靠背效果。"]}),"\n",(0,t.jsxs)(n.h2,{id:"逻辑代码",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#逻辑代码",children:"#"}),"逻辑代码"]}),"\n",(0,t.jsx)(n.p,{children:"当点击按钮旋转时，我们每次都让 front 和 back 旋转 180 度。"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",meta:"",children:"const front = document.getElementById('front')\r\nconst back = document.getElementById('back')\r\nconst btn = document.getElementById('btn')\r\nlet frontRotateY = 0\r\nlet backRotateY = 180\r\n\r\nbtn.addEventListener('click', function () {\r\n  frontRotateY -= 180\r\n  backRotateY -= 180\r\n  front.style.transform = `rotateY(${frontRotateY}deg)`\r\n  back.style.transform = `rotateY(${backRotateY}deg)`\r\n})\n"})}),"\n",(0,t.jsx)(n.p,{children:"此外，我们还需要给 front 和 end 添加过渡效果："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",meta:"",children:"#front, #back {\r\n  /* ... 省略 */\r\n  transition: 0.5s;\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"这样当卡片每次旋转时，都能够有相关动画。"}),"\n",(0,t.jsxs)(n.h2,{id:"完整代码",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#完整代码",children:"#"}),"完整代码"]}),"\n",(0,t.jsx)(n.p,{children:"完整代码如下，你可以在 codepen 或者码上掘金上查看。"}),"\n",(0,t.jsxs)(n.p,{children:["codepen: ",(0,t.jsx)(n.a,{href:"https://codepen.io/lijunlin2022/pen/yLrJMZL",target:"_blank",rel:"noopener noreferrer",children:"https://codepen.io/lijunlin2022/pen/yLrJMZL"})]}),"\n",(0,t.jsxs)(n.p,{children:["码上掘金: ",(0,t.jsx)(n.a,{href:"https://code.juejin.cn/pen/7370534206583898150",target:"_blank",rel:"noopener noreferrer",children:"https://code.juejin.cn/pen/7370534206583898150"})]}),"\n",(0,t.jsxs)(n.h2,{id:"总结",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"}),"总结"]}),"\n",(0,t.jsx)(n.p,{children:"本文首先介绍了翻转卡片的布局：两个元素 front、back 先通过绝对定位重叠，再让 back 绕 Y 轴旋转 180 度，实现 front 和 back 背对背的效果；"}),"\n",(0,t.jsx)(n.p,{children:"然后介绍了翻转卡片的动画：每次需要旋转时，都让 front 和 back 绕着 Y 轴旋转 180 度。"}),"\n",(0,t.jsx)(n.p,{children:"最终实现了类似微信读书推荐卡片的翻转效果。"}),"\n",(0,t.jsx)(n.p,{children:"拳打 H5，脚踢小程序。我是「小霖家的混江龙」，关注我，带你了解更多实用的 H5、小程序武学。"})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,t.jsx)(n,Object.assign({},e,{children:(0,t.jsx)(d,e)})):d(e)}let h=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["blog%2F2024%2F05%2F17%2Findex.md"]={toc:[{id:"布局代码",text:"布局代码",depth:2},{id:"逻辑代码",text:"逻辑代码",depth:2},{id:"完整代码",text:"完整代码",depth:2},{id:"总结",text:"总结",depth:2}],title:"仿微信读书，H5 翻转卡片如何实现？",frontmatter:{}}},95895:function(e,n,r){r.d(n,{Z:function(){return d}});var t=r(85893),i=r(67294),a=r(45687);r(6175);let c={"zh-CN":e=>`预计阅读时间: ${e.minutes>=1?`${Math.ceil(e.minutes)} 分钟`:"小于 1 分钟"}`,"en-US":e=>`Estimated reading time: ${e.minutes>=1?`${Math.ceil(e.minutes)} minutes`:"less than 1 minute"}`};function s(e,n,r){let t=Object.keys(c).includes(n)?n:r;return c[t](e)}let d=e=>{let{defaultLocale:n="en-US"}=e,r=(0,a.Vi)().page.readingTimeData,c=(0,a.Jr)(),d=(0,a.e7)(),[l,h]=(0,i.useState)(s(r,c,n));return(0,i.useEffect)(()=>{h(s(r,c,n))},[c,r]),(0,t.jsx)("span",{"data-dark":String(d),className:"rp-reading-time",children:l})}}}]);