"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["1259"],{87223:function(e,t,n){n.r(t),n.d(t,{default:()=>h});var a=n("85893"),i=n("50065"),s=n("95895");let r=n.p+"static/image/cover.5a0d86a8.gif",c=n.p+"static/image/tab-with-error.80195d8f.png";function d(e){let t=Object.assign({h1:"h1",a:"a",p:"p",img:"img"},(0,i.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.h1,{id:"从快速切换-tab-说起先发出的请求后得到结果请求竞态问题如何解决",children:[(0,a.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#从快速切换-tab-说起先发出的请求后得到结果请求竞态问题如何解决",children:"#"}),"从快速切换 Tab 说起，先发出的请求后得到结果（请求竞态问题）如何解决？"]}),"\n",(0,a.jsx)(s.Z,{defaultLocale:"zh-CN"}),"\n",(0,a.jsx)(t.p,{children:"开发 H5 的朋友或许都遇到过一个问题。场景如下，页面有一个 Tab，然后 Tab 下方有对应的商品列表："}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:r})}),"\n",(0,a.jsx)(t.p,{children:"我们快速切换 Tab，会偶然发现 Tab 选项的商品不符合预期，比如最终选项是「男装」，但商品却还是「食品」。"}),"\n",(0,a.jsx)(t.p,{children:"这是因为切换 Tab 时，我们会先发送「食品」的请求、再发送了「男装」的请求，但是由于网络速度等原因，接口先返回了「男装」的响应，再返回了「食品」的响应。"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:c})})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,i.ah)(),e.components);return t?(0,a.jsx)(t,Object.assign({},e,{children:(0,a.jsx)(d,e)})):d(e)}let h=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["tmp%2F_2024-07-31-race-conditions%2Findex.md"]={toc:[],title:"从快速切换 Tab 说起，先发出的请求后得到结果（请求竞态问题）如何解决？",frontmatter:{}}},95895:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(85893),i=n(67294),s=n(45687);n(6175);let r={"zh-CN":e=>`预计阅读时间: ${e.minutes>=1?`${Math.ceil(e.minutes)} 分钟`:"小于 1 分钟"}`,"en-US":e=>`Estimated reading time: ${e.minutes>=1?`${Math.ceil(e.minutes)} minutes`:"less than 1 minute"}`};function c(e,t,n){let a=Object.keys(r).includes(t)?t:n;return r[a](e)}let d=e=>{let{defaultLocale:t="en-US"}=e,n=(0,s.Vi)().page.readingTimeData,r=(0,s.Jr)(),d=(0,s.e7)(),[l,h]=(0,i.useState)(c(n,r,t));return(0,i.useEffect)(()=>{h(c(n,r,t))},[r,n]),(0,a.jsx)("span",{"data-dark":String(d),className:"rp-reading-time",children:l})}}}]);