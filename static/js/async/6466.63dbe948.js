"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["6466"],{49117:function(n,e,t){t.r(e),t.d(e,{default:()=>g});var r=t("85893"),i=t("50065"),a=t("95895");let s=t.p+"static/image/translateX.bf0e6c3d.gif",o=t.p+"static/image/scaleX.12ed9537.gif",l=t.p+"static/image/rotate.336913a6.gif";function c(n){let e=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",img:"img",pre:"pre",code:"code"},(0,i.ah)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"着色器实现图形动画",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#着色器实现图形动画",children:"#"}),"着色器实现图形动画"]}),"\n",(0,r.jsx)(a.Z,{defaultLocale:"zh-CN"}),"\n",(0,r.jsxs)(e.h2,{id:"图形平移",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#图形平移",children:"#"}),"图形平移"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s})}),"\n",(0,r.jsx)(e.p,{children:"关键代码如下："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",meta:"",children:"// ... 省略\r\nconst VERTEX_SHADER_SOURCE = `\r\n  attribute vec4 aPosition;\r\n  attribute float aTranslate;\r\n  attribute float aPointSize;\r\n  void main() {\r\n    gl_Position = vec4(aPosition.x + aTranslate, aPosition.y, aPosition.z, 1.0);\r\n    gl_PointSize = aPointSize;\r\n  }\r\n`\r\n// ... 省略\r\nconst aTranslate = gl.getAttribLocation(program, 'aTranslate')\r\n// ... 省略\r\nlet x = -1\r\nsetInterval(() => {\r\n  x += 0.05\r\n  if (x > 1) {\r\n    x = -1\r\n  }\r\n  gl.vertexAttrib1f(aTranslate, x)\r\n  gl.drawArrays(gl.TRIANGLES, 0, 3)\r\n}, 60)\n"})}),"\n",(0,r.jsxs)(e.h2,{id:"图形缩放",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#图形缩放",children:"#"}),"图形缩放"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:o})}),"\n",(0,r.jsx)(e.p,{children:"关键代码如下："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",meta:"",children:"// ... 省略\r\nconst VERTEX_SHADER_SOURCE = `\r\n  attribute vec4 aPosition;\r\n  attribute float aScale;\r\n  attribute float aPointSize;\r\n  void main() {\r\n    gl_Position = vec4(aPosition.x * aScale, aPosition.y, aPosition.z, 1.0);\r\n    gl_PointSize = aPointSize;\r\n  }\r\n`\r\n// ... 省略\r\nconst aScale = gl.getAttribLocation(program, 'aScale')\r\n// ... 省略\r\nlet x = 1\r\nsetInterval(() => {\r\n  x += 0.1\r\n  if (x > 2) {\r\n    x = 1\r\n  }\r\n  gl.vertexAttrib1f(aScale, x)\r\n  gl.drawArrays(gl.TRIANGLES, 0, 3)\r\n}, 60)\n"})}),"\n",(0,r.jsxs)(e.h2,{id:"旋转",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#旋转",children:"#"}),"旋转"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:l})}),"\n",(0,r.jsx)(e.p,{children:"关键代码如下："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",meta:"",children:"// ... 省略\r\nconst VERTEX_SHADER_SOURCE = `\r\n  attribute vec4 aPosition;\r\n  attribute float deg;\r\n  void main() {\r\n    gl_Position.x = aPosition.x * cos(deg) - aPosition.y * sin(deg);\r\n    gl_Position.y = aPosition.x * sin(deg) + aPosition.y * cos(deg);\r\n    gl_Position.z = aPosition.z;\r\n    gl_Position.w = aPosition.w;\r\n  }\r\n`\r\n// ... 省略\r\nconst deg = gl.getAttribLocation(program, 'deg')\r\n// ... 省略\r\nlet x = 1\r\n\r\nfunction animation() {\r\n  x += 0.05\r\n  gl.vertexAttrib1f(deg, x)\r\n  gl.drawArrays(gl.TRIANGLES, 0, 3)\r\n  requestAnimationFrame(animation)\r\n}\r\n\r\nanimation()\n"})})]})}function d(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,i.ah)(),n.components);return e?(0,r.jsx)(e,Object.assign({},n,{children:(0,r.jsx)(c,n)})):c(n)}let g=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["docs%2Fwebgl%2F08-animation.md"]={toc:[{id:"图形平移",text:"图形平移",depth:2},{id:"图形缩放",text:"图形缩放",depth:2},{id:"旋转",text:"旋转",depth:2}],title:"着色器实现图形动画",frontmatter:{}}},95895:function(n,e,t){t.d(e,{Z:function(){return l}});var r=t(85893),i=t(67294),a=t(45687);t(6175);let s={"zh-CN":n=>`预计阅读时间: ${n.minutes>=1?`${Math.ceil(n.minutes)} 分钟`:"小于 1 分钟"}`,"en-US":n=>`Estimated reading time: ${n.minutes>=1?`${Math.ceil(n.minutes)} minutes`:"less than 1 minute"}`};function o(n,e,t){let r=Object.keys(s).includes(e)?e:t;return s[r](n)}let l=n=>{let{defaultLocale:e="en-US"}=n,t=(0,a.Vi)().page.readingTimeData,s=(0,a.Jr)(),l=(0,a.e7)(),[c,d]=(0,i.useState)(o(t,s,e));return(0,i.useEffect)(()=>{d(o(t,s,e))},[s,t]),(0,r.jsx)("span",{"data-dark":String(l),className:"rp-reading-time",children:c})}}}]);