"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["6466"],{9117:function(n,r,e){e.r(r),e.d(r,{default:()=>d});var t=e("5893"),i=e("65");let a=e.p+"static/image/rotate.336913a6.gif",s=e.p+"static/image/scaleX.12ed9537.gif",o=e.p+"static/image/translateX.bf0e6c3d.gif";function l(n){let r=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",img:"img",pre:"pre",code:"code"},(0,i.ah)(),n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.h1,{id:"着色器实现图形动画",children:["着色器实现图形动画",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#着色器实现图形动画",children:"#"})]}),"\n",(0,t.jsxs)(r.h2,{id:"图形平移",children:["图形平移",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#图形平移",children:"#"})]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)("img",{src:o,alt:""})}),"\n",(0,t.jsx)(r.p,{children:"关键代码如下："}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"// ... 省略\r\nconst VERTEX_SHADER_SOURCE = `\r\n  attribute vec4 aPosition;\r\n  attribute float aTranslate;\r\n  attribute float aPointSize;\r\n  void main() {\r\n    gl_Position = vec4(aPosition.x + aTranslate, aPosition.y, aPosition.z, 1.0);\r\n    gl_PointSize = aPointSize;\r\n  }\r\n`\r\n// ... 省略\r\nconst aTranslate = gl.getAttribLocation(program, 'aTranslate')\r\n// ... 省略\r\nlet x = -1\r\nsetInterval(() => {\r\n  x += 0.05\r\n  if (x > 1) {\r\n    x = -1\r\n  }\r\n  gl.vertexAttrib1f(aTranslate, x)\r\n  gl.drawArrays(gl.TRIANGLES, 0, 3)\r\n}, 60)\n"})}),"\n",(0,t.jsxs)(r.h2,{id:"图形缩放",children:["图形缩放",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#图形缩放",children:"#"})]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)("img",{src:s,alt:""})}),"\n",(0,t.jsx)(r.p,{children:"关键代码如下："}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"// ... 省略\r\nconst VERTEX_SHADER_SOURCE = `\r\n  attribute vec4 aPosition;\r\n  attribute float aScale;\r\n  attribute float aPointSize;\r\n  void main() {\r\n    gl_Position = vec4(aPosition.x * aScale, aPosition.y, aPosition.z, 1.0);\r\n    gl_PointSize = aPointSize;\r\n  }\r\n`\r\n// ... 省略\r\nconst aScale = gl.getAttribLocation(program, 'aScale')\r\n// ... 省略\r\nlet x = 1\r\nsetInterval(() => {\r\n  x += 0.1\r\n  if (x > 2) {\r\n    x = 1\r\n  }\r\n  gl.vertexAttrib1f(aScale, x)\r\n  gl.drawArrays(gl.TRIANGLES, 0, 3)\r\n}, 60)\n"})}),"\n",(0,t.jsxs)(r.h2,{id:"旋转",children:["旋转",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#旋转",children:"#"})]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)("img",{src:a,alt:""})}),"\n",(0,t.jsx)(r.p,{children:"关键代码如下："}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"// ... 省略\r\nconst VERTEX_SHADER_SOURCE = `\r\n  attribute vec4 aPosition;\r\n  attribute float deg;\r\n  void main() {\r\n    gl_Position.x = aPosition.x * cos(deg) - aPosition.y * sin(deg);\r\n    gl_Position.y = aPosition.x * sin(deg) + aPosition.y * cos(deg);\r\n    gl_Position.z = aPosition.z;\r\n    gl_Position.w = aPosition.w;\r\n  }\r\n`\r\n// ... 省略\r\nconst deg = gl.getAttribLocation(program, 'deg')\r\n// ... 省略\r\nlet x = 1\r\n\r\nfunction animation() {\r\n  x += 0.05\r\n  gl.vertexAttrib1f(deg, x)\r\n  gl.drawArrays(gl.TRIANGLES, 0, 3)\r\n  requestAnimationFrame(animation)\r\n}\r\n\r\nanimation()\n"})})]})}function c(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,i.ah)(),n.components);return r?(0,t.jsx)(r,{...n,children:(0,t.jsx)(l,{...n})}):l(n)}let d=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["docs%2Fwebgl%2F08-animation.md"]={toc:[{text:"图形平移",id:"图形平移",depth:2},{text:"图形缩放",id:"图形缩放",depth:2},{text:"旋转",id:"旋转",depth:2}],title:"着色器实现图形动画",frontmatter:{}}}}]);