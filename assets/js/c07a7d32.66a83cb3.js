"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9758],{59383:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>g,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var r=t(85893),i=t(11151);const o={},s="\u9f20\u6807\u7ed8\u5236",a={id:"webgl/mouse-drawing",title:"\u9f20\u6807\u7ed8\u5236",description:"webgl \u7684 x, y, z \u5750\u6807\u8f74\uff0c\u53d6\u503c\u662f\u4ece -1 \u5230 1\u3002",source:"@site/docs/14-webgl/03-mouse-drawing.md",sourceDirName:"14-webgl",slug:"/webgl/mouse-drawing",permalink:"/docs/webgl/mouse-drawing",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u5750\u6807\u7cfb",permalink:"/docs/webgl/xyz"},next:{title:"uniform",permalink:"/docs/webgl/uniform"}},c={},l=[];function d(e){const n={code:"code",h1:"h1",img:"img",mermaid:"mermaid",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"\u9f20\u6807\u7ed8\u5236",children:"\u9f20\u6807\u7ed8\u5236"}),"\n",(0,r.jsx)(n.p,{children:"webgl \u7684 x, y, z \u5750\u6807\u8f74\uff0c\u53d6\u503c\u662f\u4ece -1 \u5230 1\u3002"}),"\n",(0,r.jsx)(n.mermaid,{value:"graph LR;\r\nA[\u6dfb\u52a0\u70b9\u51fb\u4e8b\u4ef6] --\x3e B[\u83b7\u53d6\u70b9\u51fb\u5750\u6807] --\x3e C[\u8f6c\u6362\u4e3a canvas \u5750\u6807] --\x3e D[\u8f6c\u6362\u4e3a webgl \u5750\u6807]"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:t(53008).Z+"",width:"400",height:"400"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const program = initShader(gl, VERTEX_SHADER_SOURCE, FRAGMENT_SHADER_SOURCE)\r\nconst aPosition = gl.getAttribLocation(program, 'aPosition')\r\n\r\nconst points = []\r\ncanvas.onmousemove = function (event) {\r\n  const { clientX, clientY } = event\r\n  const domPosition = event.target.getBoundingClientRect()\r\n  const { left, top, width, height } = domPosition\r\n  const halfWidth = width / 2\r\n  const halfHeight = height / 2\r\n\r\n  const x = (clientX - halfWidth) / halfWidth\r\n  const y = (halfHeight - clientY) / halfHeight\r\n\r\n  points.push({ x, y })\r\n\r\n  points.forEach(p => {\r\n    gl.vertexAttrib2f(aPosition, p.x, p.y)\r\n    gl.drawArrays(gl.POINTS, 0, 1)\r\n  })\r\n}\n"})})]})}function g(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},53008:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/mouse-drawing-d2382aedc2b4f9feff43ff8254edae77.gif"},11151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>s});var r=t(67294);const i={},o=r.createContext(i);function s(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);