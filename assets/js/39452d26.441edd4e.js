"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2229],{54507:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>s,toc:()=>i});var r=n(85893),d=n(11151);const a={},o=void 0,s={id:"bit-life/snake/movement-and-growth",title:"movement-and-growth",description:"\u4e0a\u4e00\u7bc7\u6211\u4eec\u4e86\u89e3\u5230\uff0c\u86c7\u8eab\u4f53\u7684\u6bcf\u4e00\u4e2a\u70b9\u7684\u5750\u6807\u88ab\u5b58\u50a8\u5728\u7ed3\u6784\u4f53\u4e2d\u3002\u8fd9\u7bc7\u6211\u4eec\u4f7f\u7528\u56fe\u7247\u6765\u6f14\u793a\u86c7\u662f\u5982\u4f55\u79fb\u52a8\uff0c\u4ee5\u53ca\u5f53\u86c7\u7684\u957f\u5ea6\u589e\u957f\u65f6\uff0c\u53c8\u662f\u5982\u4f55\u5b9e\u73b0\u589e\u52a0\u7684\u3002\u672c\u7bc7\u7b97\u662f\u6574\u4e2a\u6c47\u7f16\u8d2a\u5403\u86c7\u7684\u91cd\u4e2d\u4e4b\u91cd",source:"@site/docs/bit-life/snake/movement-and-growth.md",sourceDirName:"bit-life/snake",slug:"/bit-life/snake/movement-and-growth",permalink:"/docs/bit-life/snake/movement-and-growth",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"loop",permalink:"/docs/bit-life/snake/loop"},next:{title:"printf-and-scanf",permalink:"/docs/bit-life/snake/printf-and-scanf"}},c={},i=[{value:"\u5b58\u50a8\u86c7\u7684\u7ed3\u6784\u4f53",id:"\u5b58\u50a8\u86c7\u7684\u7ed3\u6784\u4f53",level:2},{value:"\u86c7\u7684\u79fb\u52a8",id:"\u86c7\u7684\u79fb\u52a8",level:2},{value:"\u86c7\u7684\u751f\u957f",id:"\u86c7\u7684\u751f\u957f",level:2},{value:"\u5b9e\u9645\u4ee3\u7801",id:"\u5b9e\u9645\u4ee3\u7801",level:2}];function x(e){const t={code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,d.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"\u4e0a\u4e00\u7bc7\u6211\u4eec\u4e86\u89e3\u5230\uff0c\u86c7\u8eab\u4f53\u7684\u6bcf\u4e00\u4e2a\u70b9\u7684\u5750\u6807\u88ab\u5b58\u50a8\u5728\u7ed3\u6784\u4f53\u4e2d\u3002\u8fd9\u7bc7\u6211\u4eec\u4f7f\u7528\u56fe\u7247\u6765\u6f14\u793a\u86c7\u662f\u5982\u4f55\u79fb\u52a8\uff0c\u4ee5\u53ca\u5f53\u86c7\u7684\u957f\u5ea6\u589e\u957f\u65f6\uff0c\u53c8\u662f\u5982\u4f55\u5b9e\u73b0\u589e\u52a0\u7684\u3002\u672c\u7bc7\u7b97\u662f\u6574\u4e2a\u6c47\u7f16\u8d2a\u5403\u86c7\u7684\u91cd\u4e2d\u4e4b\u91cd"}),"\n",(0,r.jsx)(t.h2,{id:"\u5b58\u50a8\u86c7\u7684\u7ed3\u6784\u4f53",children:"\u5b58\u50a8\u86c7\u7684\u7ed3\u6784\u4f53"}),"\n",(0,r.jsx)(t.p,{children:"\u5728\u4e0a\u4e00\u7bc7\u6587\u7ae0\u4e2d\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\uff0c\u86c7\u7684\u4f4d\u7f6e\u662f\u7531\u7ed3\u6784\u4f53\u6765\u5b58\u50a8\u7684\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-c",children:"struct SnakePos {\r\n\tint x;\r\n\tint y;\r\n} globalSnakeArr[100];\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u5176\u4e2d\uff0c",(0,r.jsx)(t.code,{children:"globalSnakeArr[i].x"})," \u548c ",(0,r.jsx)(t.code,{children:"globalSnakeArr[i].y"})," \u8bb0\u5f55\u4e86\u4e00\u4e2a\u86c7\u7684\u8282\u70b9\uff0c\u5728\u5730\u56fe ",(0,r.jsx)(t.code,{children:"globalMapArr"})," \u7684 x \u5750\u6807\u4f4d\u7f6e\u548c y \u5750\u6807\u4f4d\u7f6e"]}),"\n",(0,r.jsx)(t.p,{children:"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6e38\u620f\u4e2d\u7684 x \u548c y \u5750\u6807\u7cfb\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"O \u2014\u2014\u2014\u2014\u2014> y\r\n|\r\n|\r\nV\r\nx\n"})}),"\n",(0,r.jsx)(t.h2,{id:"\u86c7\u7684\u79fb\u52a8",children:"\u86c7\u7684\u79fb\u52a8"}),"\n",(0,r.jsx)(t.p,{children:"\u6211\u4eec\u73b0\u5728\u5047\u8bbe\u4e00\u6761\u86c7\u7684\u957f\u5ea6\u4e3a 5\uff0c\u86c7\u5934\u671d\u4e0a\uff0c\u5982\u679c\u4f60\u60f3\u8981\u5c06\u8fd9\u6761\u86c7\u6574\u4f53\u5f80\u4e0a\u79fb\u52a8\u4e00\u683c\uff0c\u4f60\u5e94\u8be5\u600e\u4e48\u529e\uff1f"}),"\n",(0,r.jsx)(t.p,{children:"\u6211\u4eec\u7684\u505a\u6cd5\u662f\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:n(80180).Z+"",width:"656",height:"391"})}),"\n",(0,r.jsx)(t.p,{children:"\u73b0\u5728\u6211\u4eec\u6765\u770b\u86c7\u5934\u5de6\u8f6c\u548c\u53f3\u8f6c\u7684\u60c5\u51b5\uff0c\uff08\u8d2a\u5403\u86c7\u4e0d\u80fd\u6389\u5934\uff09"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:n(53565).Z+"",width:"1196",height:"441"})}),"\n",(0,r.jsx)(t.h2,{id:"\u86c7\u7684\u751f\u957f",children:"\u86c7\u7684\u751f\u957f"}),"\n",(0,r.jsx)(t.p,{children:"\u86c7\u7684\u751f\u957f\u548c\u86c7\u7684\u79fb\u52a8\u6709\u6240\u4e0d\u540c\uff0c\u5982\u4e0b\u56fe\u6240\u793a"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:n(92664).Z+"",width:"633",height:"452"})}),"\n",(0,r.jsxs)(t.p,{children:["\u86c7\u589e\u52a0\u4e00\u6bb5\u957f\u5ea6\uff0c\u53ef\u4ee5\u770b\u4f5c\u5c06\u539f\u6765\u7684 ",(0,r.jsx)(t.code,{children:"globalSnakeArr"})," \u5168\u90e8\u5411\u540e\u632a\u52a8\u4e00\u4e2a\u4f4d\u7f6e\u4e4b\u540e\uff0c\u518d\u5728\u86c7\u5934\u7684\u4f4d\u7f6e\u6807\u4e0a\u5750\u6807"]}),"\n",(0,r.jsx)(t.h2,{id:"\u5b9e\u9645\u4ee3\u7801",children:"\u5b9e\u9645\u4ee3\u7801"}),"\n",(0,r.jsx)(t.p,{children:"\u8fd9\u662f\u86c7\u7684\u79fb\u52a8\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-c",children:"void moveSnake() {\r\n\tint i;\r\n\t__asm {\r\n        // \u5355\u7eaf\u7684\u79fb\u52a8\uff0c\u7ed9\u86c7\u7684\u957f\u5ea6 - 2\uff0c\u83b7\u5f97\u8981\u5f00\u59cb\u632a\u52a8\u7684\u4e0b\u6807\r\n        // \u6bd4\u5982\u957f\u5ea6\u4e3a 5 \u7684\u86c7\r\n        // \u5b83\u5e94\u8be5\u4ece\u4e0b\u6807\u4e3a 3 \u5904\u5f00\u59cb\u5f80\u540e\u632a\u52a8\r\n\t\tmov eax, dword ptr ds : [globalSnakeLen]\r\n\t\tsub eax, 2\r\n\t\tmov dword ptr ds : [i] , eax\r\n\t\tjmp snake_cmp\r\n\r\n\tsnake_dec :\r\n\t\tmov eax, dword ptr ds : [i]\r\n\t\tdec eax\r\n\t\tmov dword ptr ds : [i] , eax\r\n\r\n\tsnake_cmp :\r\n\t\tmov eax, dword ptr ds : [i]\r\n\t\tcmp eax, 0\r\n\t\tjl snake_end\r\n\r\n\t\tlea eax, dword ptr ds : [globalSnakeArr]\r\n\t\tmov ecx, dword ptr ds : [i]\r\n\t\timul ecx, ecx, 8\r\n\t\tadd eax, ecx\r\n\t\tmov ecx, dword ptr ds : [eax]\t\t// x\r\n\t\tmov edx, dword ptr ds : [eax + 4]\t// y\r\n\r\n\t\t// \u653e\u5230 i + 1 \u7684\u4e0b\u6807\u4e2d\r\n\t\tadd eax, 8\r\n\t\tmov dword ptr ds : [eax] , ecx\r\n\t\tmov dword ptr ds : [eax + 4] , edx\r\n\t\tjmp snake_dec\r\n\r\n\tsnake_end :\r\n\r\n\t\t// \u786e\u5b9a\u86c7\u5934\u4f4d\u7f6e\r\n\t\tmov eax, dword ptr ds : [globalMovementDirection]\r\n\t\tcmp eax, 1\r\n\t\tje move_up\r\n\t\tcmp eax, 2\r\n\t\tje move_down\r\n\t\tcmp eax, 3\r\n\t\tje move_left\r\n\t\tcmp eax, 4\r\n\t\tje move_right\r\n\r\n\t\t// \u5411\u4e0a\u79fb\u52a8\r\n\tmove_up :\r\n\t\tlea eax, dword ptr ds : [globalSnakeArr]\r\n\t\tmov ecx, dword ptr ds : [eax]\r\n\t\tmov edx, dword ptr ds : [eax + 4]\r\n\t\tdec ecx\r\n\t\tmov dword ptr ds : [eax] , ecx\r\n\t\tmov dword ptr ds : [eax + 4] , edx\r\n\t\tjmp \tfun_end\r\n\t\t// \u5411\u4e0b\u79fb\u52a8\r\n\tmove_down :\r\n\t\tlea eax, dword ptr ds : [globalSnakeArr]\r\n\t\tmov ecx, dword ptr ds : [eax]\r\n\t\tmov edx, dword ptr ds : [eax + 4]\r\n\t\tinc ecx\r\n\t\tmov dword ptr ds : [eax] , ecx\r\n\t\tmov dword ptr ds : [eax + 4] , edx\r\n\t\tjmp \tfun_end\r\n\t\t// \u5411\u5de6\u79fb\u52a8\r\n\tmove_left :\r\n\t\tlea eax, dword ptr ds : [globalSnakeArr]\r\n\t\tmov ecx, dword ptr ds : [eax]\r\n\t\tmov edx, dword ptr ds : [eax + 4]\r\n\t\tdec edx\r\n\t\tmov dword ptr ds : [eax] , ecx\r\n\t\tmov dword ptr ds : [eax + 4] , edx\r\n\t\tjmp \tfun_end\r\n\t\t// \u5411\u53f3\u79fb\u52a8\r\n\tmove_right :\r\n\t\tlea eax, dword ptr ds : [globalSnakeArr]\r\n\t\tmov ecx, dword ptr ds : [eax]\r\n\t\tmov edx, dword ptr ds : [eax + 4]\r\n\t\tinc edx\r\n\t\tmov dword ptr ds : [eax] , ecx\r\n\t\tmov dword ptr ds : [eax + 4] , edx\r\n\t\tjmp \tfun_end\r\n\r\n\tfun_end :\r\n\t\tnop\r\n\t}\r\n}\n"})}),"\n",(0,r.jsx)(t.p,{children:"\u8fd9\u662f\u86c7\u957f\u5ea6\u589e\u52a0\u7684\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-c",children:"void addSnakeLen() {\r\n\t__asm {\r\n\t\tmov eax, dword ptr ds : [globalSnakeLen]\r\n\t\tinc eax\r\n\t\tmov dword ptr ds : [globalSnakeLen] , eax\r\n\t}\r\n}\n"})})]})}function l(e={}){const{wrapper:t}={...(0,d.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},80180:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/snake2-4953f29ed586e52b2aa0b899a9b56478.jpg"},53565:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/snake3-3d51a819fb0e7c6d2d182332284b52bc.jpg"},92664:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/snake4-9dd8df45acaee521d9ec8535ab03a411.jpg"},11151:(e,t,n)=>{n.d(t,{Z:()=>s,a:()=>o});var r=n(67294);const d={},a=r.createContext(d);function o(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);