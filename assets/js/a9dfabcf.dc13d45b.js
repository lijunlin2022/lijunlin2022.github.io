"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9127],{76450:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var r=t(85893),i=t(11151);const a={},o="\u7740\u8272\u5668\u5b9e\u73b0\u56fe\u5f62\u52a8\u753b",s={id:"webgl/animation",title:"\u7740\u8272\u5668\u5b9e\u73b0\u56fe\u5f62\u52a8\u753b",description:"\u56fe\u5f62\u5e73\u79fb",source:"@site/docs/14-webgl/08-animation.md",sourceDirName:"14-webgl",slug:"/webgl/animation",permalink:"/docs/webgl/animation",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u5b9e\u73b0\u591a\u79cd\u56fe\u5f62\u7684\u7ed8\u5236",permalink:"/docs/webgl/multi-shape"},next:{title:"\u77e9\u9635\u5b9e\u73b0\u5e73\u79fb\u3001\u65cb\u8f6c\u3001\u7f29\u653e",permalink:"/docs/webgl/animation-matrix"}},l={},c=[{value:"\u56fe\u5f62\u5e73\u79fb",id:"\u56fe\u5f62\u5e73\u79fb",level:2},{value:"\u56fe\u5f62\u7f29\u653e",id:"\u56fe\u5f62\u7f29\u653e",level:2},{value:"\u65cb\u8f6c",id:"\u65cb\u8f6c",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,i.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"\u7740\u8272\u5668\u5b9e\u73b0\u56fe\u5f62\u52a8\u753b",children:"\u7740\u8272\u5668\u5b9e\u73b0\u56fe\u5f62\u52a8\u753b"})}),"\n",(0,r.jsx)(e.h2,{id:"\u56fe\u5f62\u5e73\u79fb",children:"\u56fe\u5f62\u5e73\u79fb"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:t(72581).Z+"",width:"389",height:"387"})}),"\n",(0,r.jsx)(e.p,{children:"\u5173\u952e\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// ... \u7701\u7565\r\nconst VERTEX_SHADER_SOURCE = `\r\n  attribute vec4 aPosition;\r\n  attribute float aTranslate;\r\n  attribute float aPointSize;\r\n  void main() {\r\n    gl_Position = vec4(aPosition.x + aTranslate, aPosition.y, aPosition.z, 1.0);\r\n    gl_PointSize = aPointSize;\r\n  }\r\n`\r\n// ... \u7701\u7565\r\nconst aTranslate = gl.getAttribLocation(program, 'aTranslate')\r\n// ... \u7701\u7565\r\nlet x = -1\r\nsetInterval(() => {\r\n  x += 0.05\r\n  if (x > 1) {\r\n    x = -1\r\n  }\r\n  gl.vertexAttrib1f(aTranslate, x)\r\n  gl.drawArrays(gl.TRIANGLES, 0, 3)\r\n}, 60)\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u56fe\u5f62\u7f29\u653e",children:"\u56fe\u5f62\u7f29\u653e"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:t(36568).Z+"",width:"389",height:"389"})}),"\n",(0,r.jsx)(e.p,{children:"\u5173\u952e\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// ... \u7701\u7565\r\nconst VERTEX_SHADER_SOURCE = `\r\n  attribute vec4 aPosition;\r\n  attribute float aScale;\r\n  attribute float aPointSize;\r\n  void main() {\r\n    gl_Position = vec4(aPosition.x * aScale, aPosition.y, aPosition.z, 1.0);\r\n    gl_PointSize = aPointSize;\r\n  }\r\n`\r\n// ... \u7701\u7565\r\nconst aScale = gl.getAttribLocation(program, 'aScale')\r\n// ... \u7701\u7565\r\nlet x = 1\r\nsetInterval(() => {\r\n  x += 0.1\r\n  if (x > 2) {\r\n    x = 1\r\n  }\r\n  gl.vertexAttrib1f(aScale, x)\r\n  gl.drawArrays(gl.TRIANGLES, 0, 3)\r\n}, 60)\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u65cb\u8f6c",children:"\u65cb\u8f6c"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:t(86799).Z+"",width:"389",height:"389"})}),"\n",(0,r.jsx)(e.p,{children:"\u5173\u952e\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// ... \u7701\u7565\r\nconst VERTEX_SHADER_SOURCE = `\r\n  attribute vec4 aPosition;\r\n  attribute float deg;\r\n  void main() {\r\n    gl_Position.x = aPosition.x * cos(deg) - aPosition.y * sin(deg);\r\n    gl_Position.y = aPosition.x * sin(deg) + aPosition.y * cos(deg);\r\n    gl_Position.z = aPosition.z;\r\n    gl_Position.w = aPosition.w;\r\n  }\r\n`\r\n// ... \u7701\u7565\r\nconst deg = gl.getAttribLocation(program, 'deg')\r\n// ... \u7701\u7565\r\nlet x = 1\r\n\r\nfunction animation() {\r\n  x += 0.05\r\n  gl.vertexAttrib1f(deg, x)\r\n  gl.drawArrays(gl.TRIANGLES, 0, 3)\r\n  requestAnimationFrame(animation)\r\n}\r\n\r\nanimation()\n"})})]})}function g(n={}){const{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},86799:(n,e,t)=>{t.d(e,{Z:()=>r});const r=t.p+"assets/images/rotate-add4fe54f4bbaeda1a50b3bbce7922a0.gif"},36568:(n,e,t)=>{t.d(e,{Z:()=>r});const r=t.p+"assets/images/scaleX-70d8a0d03c0aafe596f6b066891683ba.gif"},72581:(n,e,t)=>{t.d(e,{Z:()=>r});const r=t.p+"assets/images/translateX-59927bbdbe6ec718d74a30a67fcd45f5.gif"},11151:(n,e,t)=>{t.d(e,{Z:()=>s,a:()=>o});var r=t(67294);const i={},a=r.createContext(i);function o(n){const e=r.useContext(a);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:o(n.components),r.createElement(a.Provider,{value:e},n.children)}}}]);