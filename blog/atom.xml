<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://lijunlin2022.github.io/blog</id>
    <title>李俊霖的网络日志 Blog</title>
    <updated>2024-01-18T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://lijunlin2022.github.io/blog"/>
    <subtitle>李俊霖的网络日志 Blog</subtitle>
    <icon>https://lijunlin2022.github.io/img/logo.png</icon>
    <entry>
        <title type="html"><![CDATA[取余和取模如何区分与应用]]></title>
        <id>https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo</id>
        <link href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo"/>
        <updated>2024-01-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[取余（remainer）和取模（modulo），很多书籍没有说明它们的区别、也没有说明它们的应用场景。比如《JavaScript 高级程序设计（第 4 版）》直接说：]]></summary>
        <content type="html"><![CDATA[<p>取余（remainer）和取模（modulo），很多书籍没有说明它们的区别、也没有说明它们的应用场景。比如《JavaScript 高级程序设计（第 4 版）》直接说：</p>
<blockquote>
<p>取模（余数）操作符由一个百分比符号（%）表示。</p>
</blockquote>
<p>但实际上，两个概念并不完全一致。严格来说，JavaScript 中的 % 是取余，而不是取模。</p>
<p>有读者可能认为，没必要区分取余和取模。但我想说，区分取余和取模，能帮助你写出更优雅的代码。</p>
<p>以掘金的创作话题轮播为例，它带有灰色进度条，当你左滑或右滑时，话题对应的圆点会变长。</p>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/loop-progress-361cbdaa09df0a2b8828cfde31837b86.gif" width="360" height="160" class="img_ev3q"></p>
<p>假如让你来实现灰色进度条，需要计算左滑后的下标（prevIndex）和右滑后的下标（nextIndex），你会怎么做呢？</p>
<ul>
<li>要是你完全不理解取余和取模，为了兼顾左滑、右滑的边界情况，你可能会这样写：</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> prevIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                  len </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                  currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> nextIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> len </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                  </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                  currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>要是你只理解取余，不理解取模，你可能会这样写：</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> prevIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">%</span><span class="token plain"> len </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> len </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                  currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> nextIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">%</span><span class="token plain"> len</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>要是你既理解取余，又理解取模，你可以写出更优雅的代码：（mod 不是 JavaScript 原生函数，需要额外实现）</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> prevIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">mod</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> len</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> nextIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">mod</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> len</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果你想知道取余和取模的区别和应用、以及 mod 函数如何实现，看完这篇文章，你一定有所收获。</p>
<p>我会先给出取余和取模的计算方式，再用四个例子解释计算方式，接着我会谈一谈什么时候该取余，什么时候该取模，最后我会介绍 JavaScript 中 2 种实现 mod 函数的方法。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="计算方式">计算方式<a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#%E8%AE%A1%E7%AE%97%E6%96%B9%E5%BC%8F" class="hash-link" aria-label="Direct link to 计算方式" title="Direct link to 计算方式">​</a></h2>
<p>余数和模的计算方式如下图：</p>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/rem-mod-2c38a1d8bb58f287e17be6f49afd065f.png" width="549" height="240" class="img_ev3q"></p>
<p>其中 fix 代表向 0 取整，而 floor 代表向负无穷取整。你可能并不理解什么叫作「向 0 取整」，什么叫作「向负无穷取整」，先不要着急，在例子中我会详细讲解。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="例子">例子<a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#%E4%BE%8B%E5%AD%90" class="hash-link" aria-label="Direct link to 例子" title="Direct link to 例子">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-除以-2">5 除以 2<a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#5-%E9%99%A4%E4%BB%A5-2" class="hash-link" aria-label="Direct link to 5 除以 2" title="Direct link to 5 除以 2">​</a></h3>
<p>把 x = 5，y = 2 代入公式后，你需要计算的是 <code>fix(2.5)</code> 和 <code>floor(2.5)</code>。</p>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/5rem2-eaf9d6d5c4a728663909bb9ee86692b0.png" width="1073" height="340" class="img_ev3q"></p>
<p>你可以画出一个右箭头，代表从负无穷指向正无穷的数轴。</p>
<p>找到 2.5 的位置，可以发现 0 和负无穷都在 2.5 的左边。对 2.5 来说，向 0 取整和向负无穷取整，都是往左边取。</p>
<p>所以 <code>fix(2.5) = 2</code>， <code>floor(2.5) = 2</code>，把它们代入公式，得到余数和模都是 1。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-5-除以-2">-5 除以 2<a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#-5-%E9%99%A4%E4%BB%A5-2" class="hash-link" aria-label="Direct link to -5 除以 2" title="Direct link to -5 除以 2">​</a></h3>
<p>再看 -5 除以 2，继续代入公式画数轴，你需要计算的是 <code>fix(-2.5)</code> 和 <code>floor(-2.5)</code>。</p>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/-5rem2-53288a254cdbc643bddb862ae87b36b2.png" width="1108" height="340" class="img_ev3q"></p>
<p>找到 -2.5 的位置，可以看到 0 在 -2.5 的右边，而负无穷在 -2.5 的左边。此时向 0 取整就是取 -2.5 右边的整数，向负无穷取整就是取 -2.5 左边的整数。</p>
<p>所以 <code>fix(-2.5) = -2</code>，<code>floor(-2.5) = -3</code>。把它们代入公式，得到余数为 -1，模为 1。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-除以--2">5 除以 -2<a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#5-%E9%99%A4%E4%BB%A5--2" class="hash-link" aria-label="Direct link to 5 除以 -2" title="Direct link to 5 除以 -2">​</a></h3>
<p>继续看 5 除以 -2，你需要计算的是 <code>fix(-2.5)</code> 和 <code>floor(-2.5)</code>。</p>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/5rem-2-3453464000c456b8803ace66d8f8ae1d.png" width="1150" height="340" class="img_ev3q"></p>
<p>之前已经知道 <code>fix(-2.5) = -2</code>，<code>floor(-2.5) = -3</code>，把它们代入公式，得到余数为 1，模为 -1。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-5-除以--2">-5 除以 -2<a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#-5-%E9%99%A4%E4%BB%A5--2" class="hash-link" aria-label="Direct link to -5 除以 -2" title="Direct link to -5 除以 -2">​</a></h3>
<p>最后看 -5 除以 -2，你需要计算的是 <code>fix(2.5)</code> 和 <code>floor(2.5)</code>。</p>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/-5rem-2-2a83ef03a3605cf1724a149d42be255e.png" width="1206" height="340" class="img_ev3q"></p>
<p>之前已经知道 <code>fix(2.5) = 2</code>，<code>floor(2.5) = 2</code>，把它们代入公示后得到余数和模都是 -1。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="余数和模的区别">余数和模的区别<a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#%E4%BD%99%E6%95%B0%E5%92%8C%E6%A8%A1%E7%9A%84%E5%8C%BA%E5%88%AB" class="hash-link" aria-label="Direct link to 余数和模的区别" title="Direct link to 余数和模的区别">​</a></h2>
<p>观察上面的 4 个例子，不难发现，取余和取模的结果，和 x 和 y 的正负号有关。</p>
<ul>
<li>当 x 和 y 同为正数、或者同为负数时，x rem y 和 x mod y 的结果一样。</li>
<li>当 x 和 y 符号不一致时，x rem y 和 x mod y 的结果不一样。rem 计算结果符号和 x 一样，mod 计算结果和 y 一样。</li>
</ul>
<p>实际应用中，y 一般都是正数，因此只需要考虑 x 符号的正负。</p>
<ul>
<li>
<p>当 x 为正数时，此时取余数和取模结果一致，因此最好使用 JavaScript 的 % 运算符。</p>
<p>例如你想访问数组中的某个元素，又担心下标超出数组的范围，你可以先求下标除以数组长度的余数，把余数作为新下标。</p>
</li>
<li>
<p>当 x 可能为正数也可能为负数时，此时可以实现一个 mod 函数。</p>
<p>例如我在文章开头举的例子，prevIndex 可能是一个负数，你可以直接求 prevIndex 除以轮播长度的模。</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="实现取模函数">实现取模函数<a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#%E5%AE%9E%E7%8E%B0%E5%8F%96%E6%A8%A1%E5%87%BD%E6%95%B0" class="hash-link" aria-label="Direct link to 实现取模函数" title="Direct link to 实现取模函数">​</a></h2>
<p>取模函数，我知道的有两种实现方法，一种是偏重工程，另一种偏重学术。两者有什么区别呢？</p>
<p>之前提到过，实际应用中，x mod y 时，y 一般是正数。</p>
<ul>
<li><strong>工程方法追求简单实用，只考虑 y 为正数的情况。</strong></li>
</ul>
<p>它的写法简单易懂，先求 x 除以 y 的余数，如果结果为负数，就给结果再加上一个 y，保证结果始终为正数。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">function</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">mod</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token parameter">x</span><span class="token parameter punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token parameter"> y</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> res </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> x </span><span class="token operator" style="color:hsl(221, 87%, 60%)">%</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword control-flow" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> res </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> res </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> y </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> res</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/verify-func-1-22f300a8c214d9052d9e9c7383c62c20.png" width="350" height="400" class="img_ev3q"></p>
<p>Ant Design Mobile Swiper <sup><a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#user-content-fn-1-41eb80" id="user-content-fnref-1-41eb80" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup> 源码用的就是这种方法。</p>
<ul>
<li><strong>学术方法追求逻辑严密，既会考虑 y 为正数，也会考虑 y 为负数。</strong></li>
</ul>
<p>它的写法如下，我不清楚怎么证明，但代入数字计算，可以验证结果正确。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">function</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">mod</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token parameter">x</span><span class="token parameter punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token parameter"> y</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword control-flow" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">x </span><span class="token operator" style="color:hsl(221, 87%, 60%)">%</span><span class="token plain"> y</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> y</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">%</span><span class="token plain"> y</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/verify-func-2-8187a575a8cac5a1bb7c5e36a513e7e7.png" width="350" height="400" class="img_ev3q"></p>
<p>MDN <sup><a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#user-content-fn-2-41eb80" id="user-content-fnref-2-41eb80" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup> 和 stackoverflow <sup><a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#user-content-fn-3-41eb80" id="user-content-fnref-3-41eb80" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup> 推荐的就是这种方法。</p>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-1-41eb80">
<p><a href="https://github.com/ant-design/ant-design-mobile/blob/master/src/components/swiper/swiper.tsx" target="_blank" rel="noopener noreferrer">ant-design-mobile | github</a> <a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#user-content-fnref-1-41eb80" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-2-41eb80">
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Remainder" target="_blank" rel="noopener noreferrer">remainder | mdn</a> <a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#user-content-fnref-2-41eb80" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-3-41eb80">
<p><a href="https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers/17323608#17323608" target="_blank" rel="noopener noreferrer">JavaScript % (modulo) gives a negative result for negative numbers | stackoverflow</a> <a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo#user-content-fnref-3-41eb80" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[不复制元素的循环轮播图如何实现——求模]]></title>
        <id>https://lijunlin2022.github.io/blog/2023/12/14/loop-swiper</id>
        <link href="https://lijunlin2022.github.io/blog/2023/12/14/loop-swiper"/>
        <updated>2023-12-14T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[循环轮播图，你肯定并不陌生，实现方案非常多。不过大多数实现方案需要复制元素，实现 5 个元素的轮播需要 7 个元素，多出的两个元素一个是头部元素，一个是尾部元素。]]></summary>
        <content type="html"><![CDATA[<p>循环轮播图，你肯定并不陌生，实现方案非常多。不过大多数实现方案需要复制元素，实现 5 个元素的轮播需要 7 个元素，多出的两个元素一个是头部元素，一个是尾部元素。</p>
<p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAAAZCAIAAABclmpgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAATiSURBVHic7dxfTFNnGMfxt4sJFOiQDQTiggSqW8dIWjCzyNhUAoYumeAMmTi3+CejWciyOKLuDzGGzakjgSxEWrdqzBaG0DlNZhvasE1qi8PI6c04XkgvGEsLRUutpXDFLpo0i8nqaULyvMf8PneHG755QnoezntAMT0TYAAAAABPssa+nE/dIA8NabO2yAR1hWwYVBUYl3QYV0owrpRgXCkxqCpwW0ziGeoAAAAAkAcsDQAAACAJlgYAAACQBEsDAAAASIKlAQAAACTB0gAAAACS8Lg0xCLhPmOT47tvqEN45/OKHTsPGTUGU1tnLBKlzpEHwenGuKToP9lr1BiMGkPHzkM+r0idwzuHxRof1+nmj0OBIHWOPMQiUVNbp8NipQ7hnU8Y+2K7urVU0WdsikXCtDE8Lg2ugfNe51XqCt7FIlHH99aa5obu8SHGmGvQTl0kA4LTbf7oK+oKGXBYrA+Doe7xIZNoq2luGDxlxo0wCcHpnhi++fXvl0yirahMfflLE7ZSKVyDdu/IGHUF72KR8LD57OstrT3eBcaYa+A8bQ93S0PI//eky7GhfDN1CO/8U9Oh2Xl1ZZlSlbll1w6fIOJzKrn+k71Xui5seWsHdYgM1B/aY+ztUKoyGWPqyrKVlZVQYJ46il+6uurjgz05BXmMMc1W3cLc/aXoInUU70KBoOgWNryykTqEd/57k6HAjHrza0pVtr5p/9QdD+3DBu6WBtu5U/qm93IKXqAO4V04+EChUOQU5MYv8Tn1RJqtus5hy/pNxdQh8DQTPUJRmTq+QEASdvNlfWNtTn4udQjvwnN+hUKRuCcuzP6z9OghYQ9fS4NPGFtefPSifht1iDysXfd8emYGYyw77zllViZ1Du90ddXUCbJ069pITn5uYWkRdQjvBKfbqDGIHkG/q5a6hXc+r7i8uLTp1XLqEHlYm78+PetZxlj2ukKlKps2hqOlIRYJ//HjuW3vfhifDgCQc1isokeoP7wnflQBSejqqk2ibXf7wYvHuvDqaBKxSPTGT9ff2Ptm/HcekBeOloa7npG0jKwSXRV1iGwkjiTCwQexR3ihAVaZw2J1DdoPnGkv0WqoW2TjJb12/cbie3f+og7h191b3rSMdPxQSZc4kgjP+cn/emIN7bf/r8mbztF+02i/KX7pdV4NTvv2dfbRVnHrsSOJxFEFwKpwWKwTwzePXDqN4/mULEUXF+bu5xUVUofwS/QIowO20QFb/NI7MjY/E2g50UZbxa3HjiQSRxVUOHrSsK+zzzy1Yp5a6fEuaOsa3z5+FhtDEoWlRWkZ6bev34hFon9e+61Ep8EDZFgtgtPtGrQ3f9aKjUEKwelO/HuG29dvMMaKyzdRR/Gr5USbSbSZRFv3+JC2tmp3+0FsDEkUql9Oy8i6/etALBK+9csPpZVbaV9r4OhJA6REqcqsP7zn4rGuK10XtLVVNc0N1EXw9BA9QnDaf3bvJ4mvtH77Od4k/T+6uurgtP/T7e8zxvKKCg+caceyBatFqcre2Xr0wpH9P58+qq1rrHnnA9oehXlqhbZALhrSZm2RCeoK2TCoKjAu6TCulGBcKcG4UmJQVdiX86kr+MXR8QQAAADwDEsDAAAASIKlAQAAACTB0gAAAACSYGkAAAAASRTTMwHqBgAAAJCBfwGqYsR3SAhWWwAAAABJRU5ErkJggg==" width="700" height="25" class="img_ev3q"></p>
<p>能不复制元素吗？可以的，Ant Design Mobile Swiper <sup><a href="https://lijunlin2022.github.io/blog/2023/12/14/loop-swiper#user-content-fn-1-9eb31c" id="user-content-fnref-1-9eb31c" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup> 不复制元素，仅改变 translate3d，就实现了循环轮播，它是如何做到的呢？</p>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/antd-mobile-fb968342e95cda93f287f9fd3c7b9933.gif" width="1150" height="180" class="img_ev3q"></p>
<p>如果你也想知道答案，看了这篇文章，你一定有所收获。我会先解释循环轮播的原理，再用 HTML + JavaScript 实现循环轮播，效果如下：</p>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/demo-63dfa065e1d511bd722647f0446fa272.gif" width="784" height="193" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="轮播的原理">轮播的原理<a href="https://lijunlin2022.github.io/blog/2023/12/14/loop-swiper#%E8%BD%AE%E6%92%AD%E7%9A%84%E5%8E%9F%E7%90%86" class="hash-link" aria-label="Direct link to 轮播的原理" title="Direct link to 轮播的原理">​</a></h2>
<p><strong>初始顺序</strong></p>
<p>先设想一下 5 个元素轮播时，初始顺序应该是什么样？</p>
<p>首先，Item 0 不能放在边缘，因为往左滑、往右滑都需要能看到元素。你可以把 Item 0 放到中央（橘黄色），换句话说，你在 Item 0 左右两边各放了 2 个元素。</p>
<p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABLCAIAAAAJX+LJAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAATmSURBVHic7d1PSJt3HMfxJ6NQ/0w2tzorYiatlaauYFZYbUXGKlp0sI4iQnsZrUI9yBibULZRSnF/2iEIo4fIzEovXath4ME4I3ZYG9ta6pPL+uyweUgUY2NruyzGnrKDw5Uduicj8Ps9X96vU/T04Ufy5snzCLoymYwBG2KLyxXlpapXOAbHlRWOKysclx2u6EJc9QYAQI65uHK3iYuFrMQWlyvuD6pe4RixPZ28u+zjw2jHC6oHAAByj7gDgEDEHQAEIu4AIBBxBwCBiDsACETcAUAg4g4AAhF3ABCIuAOAQMQdAAQi7gAgEHEHAIGIOwAIRNwBQCDiDgACEXcAEIi4A4BAxB0ABCLuACAQcQcAgYg7AAjkii7EVW8AAOTYlmByTvUGZ2gtepOzso/jygrHlRWOyw5uywCAQMQdAAQi7gAgEHEHAIGIOwAIRNwBQCC94h7yB7o8rV2e1vPtH63GE6rnOEM6mfJ194b8AdVDdDcfsc4c7ujytPq6e9PJlOo5zmBOhDkuO66cu7jRrjOHO+Yjluo5hqFV3M2J8Nz4za9/vuyzgu6aqmtf+HhL2TE9NBaZvKV6he7SyVRoMNDQ3tI/O2wYxvTQmOpFDmBOhAc+/FL1CgcI+QN/JFb7Z4d9VrChvWXoqwEdrk23qB7wD29TvbepfuO156B3/Lvh9dRaflGh2lWaW40nrLD5+hu7VA/R3dLv0dXllap9NflFhfuPHLozcj2dTPHueo4r5y5aM+b+9w49TaVVb9Fdc0fb5uuqfTX3fppeja8Uby9ROMnQ6sr9WdaM6a6pUn46+hsbuFb3fmNx6TbVQ3T3JPHI5XIVb//7oB4/eLieWlM7SXOeg97ecX95daXqIfiftIu7ORHu8rRaM2bdkUbVW3Q3H7Gerq1Xv7VX9RBnePm1V/MKCwzDeKnklfwXuWb/D5tfo5GV2yOTxaXbyna6VQ/RL+7epnqfFTzac/LS6T5NnkvoKZ1MTf0w+vaxdzeCBUC5kD9gzZjNnW063PHTLu4bdtfVlu+q/O3eL6qH6OvX25GtBXk7aj2qhzjG5q2YJ4lH6T95Vo8cC/kD00NjJy70aPKp1OiB6rPWU2uPHzwscZepHqIva8a8cTV442pw48fI5K2Vhfjxs91qV2nrX7diNm/RADkR8gfmxm9+fPm8Pk8KNbpyNyfCm3/efnd0yjCMyr3Vqkfp6/jZbp8V9FnB/tnh2sYDR3tOUvbnKNvp3lqQd3d0Kp1M3Rm5vsPr0eGLM2QwJ8LTQ2Ptn53Sp+yGVlfu3qb6RHTp03c+MAyjxF124kKPVicFR8svKmzubLt0uu/Hvu9rGw80tLeoXgQ5rBkzEV365tgnm7859e3nyp9Iu3xWUO0Cp+D/A2SF48oKx5UVjssOjW7LAAByhbgDgEDEHQAEIu4AIBBxBwCBXNGFuOoNAIAcc2UyGdUbnCG2uFxRXqp6hWPEFpcr7g+qXuEYsT2dvLvs48NoB7dlAEAg4g4AAhF3ABCIuAOAQMQdAAQi7gAgEHEHAIGIOwAIRNwBQCDiDgACEXcAEIi4A4BAxB0ABCLuACAQcQcAgYg7AAhE3AFAIOIOAAIRdwAQiLgDgEDEHQAEIu4AIJAruhBXvQEAkGOuTCajeoMzxBaXK8pLVa9wDI4rKxxXVjguO/4CWTx87fJzKYwAAAAASUVORK5CYII=" width="500" height="75" class="img_ev3q"></p>
<p>为什么是 34012 这个顺序呢？你可以这样想，把 Item 按 012345 的顺序，从中央区域开始向右放置。放完 Item 0、Item 1 和 Item 2 后，Item 0 右边已经有 2 个元素了。接下来就需要你把 Item 3 和 Item 4 放在 Item 0 左边。</p>
<p><img loading="lazy" src="data:image/png;base64,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" width="700" height="170" class="img_ev3q"></p>
<p><strong>向右滑动</strong></p>
<p>接下来再考虑轮播向右滑动的情况，也就是说你把 Item 1 放到了中央。</p>
<p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABLCAIAAAAJX+LJAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAATdSURBVHic7d1PSJt3HMfxJ6NQ/0w2tzorYiatlaauYFZYbUXGKlp0sI4iQnsZrUI9yBibULZRSnF/2iEIo4fIzEovXath4ME4I3ZYm7S11CeX9dlh85AoJo2t7bIYe8oOjhzGtuSBwO95vrxfp+jFDz/MO49PAjoymYyG/ERX4jXVlapX2AbHZQrHZQrHlZMjshxTvQEAUGAOrtzzx8WCKdGVeM3DUdUrbCO6r5ffrvzxZMzpBdUDAACFR9wBQCDiDgACEXcAEIi4A4BAxB0ABCLuACAQcQcAgYg7AAhE3AFAIOIOAAIRdwAQiLgDgEDEHQAEIu4AIBBxBwCBiDsACETcAUAg4g4AAhF3ABCIuAOAQMQdAARyRJZjqjcAAApsmz+5qHqDbXSWvclx5Y/jMoXjMoXjyonbMgAgEHEHAIGIOwAIRNwBQCDiDgACEXcAEMiicU8nU57+wYDXp3qI1S2FjXNHe/pcnZ7+wXQypXqOPegzQY4rH9cuXO5zdfa5Os8d7VkKG6rnWF3A69s6rovdH63HEqrnWDXu82NT4dk7qldYXTqZCoz6Wro7hhfGNU2bH5tSvcgG9JngyIdfql5hAwGv74/E+vDCuMfwt3R3jH01YoVgWZY+E1ycvv31z1c9ht/ZUHfjC4/yq4dtan/8v1qPJYyg/vobe1QPsbrV3yPr8bW6Aw3FZaUHjx25N3EznUwVl5Wq3mVd1y5cNkL6wfeOPE+lVW+xuvaeruzjugMND36aX4+tle+sUDjJytxtze625q3HrsPu6e/GN1Mbap+MVrxynxq50fR+a3nlDtVDrO5Z4onD4Sjf+fdBPX30eDO1oXaSxbkOuwenvdX1taqHQDIjpDsb6pS/EFou7kth4/nGZv1b+1UPsYeXX3u1qLRE07SXKl4pfpFr9hyy11Yw5e7EbHnljqrdTtVDrE6fCfa5Oo2Q3nSsVfUWi8U9nUzN/TD59ol3t4IFQLmA12eE9PbeLu745eRua/YY/uMDp6+cHVL+FrS14v7r3fD2kqJdjS7VQ2wjeyvmWeJJ+k8+/oECC3h982NTpy4N8KzM396mxuo9tb89+EXtDGu9oWqE9FvX/beu+7e+DM/eWVuOnTzfr3aVZf3jVkz2Fg1QEAGvb3H69sdXLyq/fWwvm6mNp48eVzir1M6w1pX7yfP9HsPvMfzDC+ONrYeOD5ym7P+jardze0nR/cm5dDJ1b+LmLreLP5xRKPpMcH5sqvuzM5Q9H/pMMPvx9vuTc5qm1e6vVzvJWlfuMKW4rLS9t+vK2aEfh75vbD3U0t2hehHkMEJ6IrL6zYlPst858+3nvCP9X9xtzYnI6qfvfKBpWoWz6tSlAeUvig6P4Ve7wEb4/wCmcFymcFymcFw5Weu2DACgIIg7AAhE3AFAIOIOAAIRdwAQyBFZjqneAAAoMEcmk1G9wTaiK/Ga6krVK2wjuhKveTiqeoVtRPf18tuVP56MOXFbBgAEIu4AIBBxBwCBiDsACETcAUAg4g4AAhF3ABCIuAOAQMQdAAQi7gAgEHEHAIGIOwAIRNwBQCDiDgACEXcAEIi4A4BAxB0ABCLuACAQcQcAgYg7AAhE3AFAIOIOAAI5Issx1RsAAAXmyGQyqjfYRnQlXlNdqXqFbXBcpnBcpnBcOf0F7bJ87dl+OUQAAAAASUVORK5CYII=" width="500" height="75" class="img_ev3q"></p>
<p>为什么是 40123 这个顺序呢？你可以延续之前的思路。把 Item 按 12340 的顺序，从中央区域开始向右放置，放完 Item 1、Item 2 和 Item 3 后，Item 1 右边已经有 2 个元素了。接下来就需要你把 Item 4 和 Item 0 放在 Item 1 左边。</p>
<p><img loading="lazy" src="data:image/png;base64,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" width="700" height="170" class="img_ev3q"></p>
<p><strong>轮播循环</strong></p>
<p>遵循之前的思路，你把位于中央的元素从 Item 0 一直换成 Item 4，就可以获得一个轮播的循环。</p>
<p><img loading="lazy" src="data:image/png;base64,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" width="500" height="460" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="计算轮播位置的代码">计算轮播位置的代码<a href="https://lijunlin2022.github.io/blog/2023/12/14/loop-swiper#%E8%AE%A1%E7%AE%97%E8%BD%AE%E6%92%AD%E4%BD%8D%E7%BD%AE%E7%9A%84%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="Direct link to 计算轮播位置的代码" title="Direct link to 计算轮播位置的代码">​</a></h2>
<p>听完上述描述，想必你已经有一个模糊的思路，现在一起把思路转变为清晰的代码吧，先看 HTML 布局代码。为了让代码足够精简，我只保留布局中的关键部分。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="布局代码">布局代码<a href="https://lijunlin2022.github.io/blog/2023/12/14/loop-swiper#%E5%B8%83%E5%B1%80%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="Direct link to 布局代码" title="Direct link to 布局代码">​</a></h3>
<p>HTML 初始布局代码和效果如下，<strong>所有的 <code>&lt;li&gt;</code> 定位为相对定位</strong>。</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">ul</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">0</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">100</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-100</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">200</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-200</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-200</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-300</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">3</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-100</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-400</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">4</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">ul</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAABLCAIAAAAd0MOcAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAAVPSURBVHic7dxdaJVlAAfwcyLIj0ZZ2pKxJWXSssAZlCUSKSouqAgZ5E2Ugl5IRAlRERH2oSEI4cWRXNFN5RyBF57lhoWurTTy7KZOF+XFPnBr1qp1nF2dLhYrujg9LyjP+47f7+psV3/+nPfsv/d5t3y1Ws0RYGhkrLGhPnaKzFBXIupKRF2JqCsRddWWHxwejZ0BAMiAvDsNgczPRIZGxhq/OxQ7RWYM3bnNuyucizERdSWirtquih0AAMgGowEACGI0AABBjAYAIIjRAAAEMRoAgCBGAwAQxGgAAIIYDQBAEKMBAAhiNAAAQYwGACCI0QAABDEaAIAgRgMAEMRoAACCGA0AQBCjAQAIYjQAAEGMBgAgiNEAAAQxGgCAIPnB4dHYGQCADLi6OHk2doZsaK1bqatw6kpEXYmoK5HWupWNDfWxU2TG0MiYumpwPAEABDEaAIAgRgMAEMRoAACCGA0AQBCjAQAIkq7R0N3euaO5dUdz6562ZydGx2PHyYapyUph5+7u9s7YQdLu3ED5lY1bdzS3FnbunpqsxI6TDaWePnWF+PC1A9OfXa9s3HpuoBw7DlwpKRoNpZ6+s8e/eOvzDwrlYtPypYdfL/ioCtHb0TVw4svYKdJuarLSfahzTdum/WeO5HK53o6u2IkyoNTTd/CZN2KnyIDu9s7fxyf2nzlSKBfXtG3qePOg33mYra6OHeAfLetXt6xfPf26+YGW4+8euVS5OLduftxUKTcxOl7uK91y1+2xg6Td+R8HJ8YuLL1n+dy6+fc9uvb00c+mJiveXTV8+NqBcn/pvkfW/lmZip0l7TZs3Tzzeuk9y7/5tHdi9MKCmxdFjARXSIruNPxbub/UtHypq+5/dR08vOqxdQvqF8YOkna/jf+Sz+cX3Px3Ub/+9POlysW4kVKu+YGW3cfbG5YtiR0ESJHUjYZST9+O5tZyf2nVo+tiZ0m7cwPlPy9eWnbv3bGDZMP1N904Z/68XC533aIb5l7rHsP/mLntRyJfHT2xoH7h4tuaYgeBKyJ1o6Fl/epCufj4rqfff2Gf54lqmJqsnPzo2INPPDz9gxCIrru9s9xf2rBts5MvZqvUjYZpd6xa0XD7kh+++TZ2kPT6/quBa+bNuXVFc+wgmTFzJPHb+C9Tf3jGlsusu72zt6Prqb27XJXMYil6EPLfLlUu/vrTz4uaFscOkl7l/tKpj4unPi5Ofzlw4ssLw6NbXt0ZN1Vq/edIYuaoAi6L7vbOs8e/eO6DPZ7EYnZL0Z2GUk/fzL9n+PrYyVwut+TuZbFDpdeWV3cWysVCubj/zJEV6+5/fNfTFkMNi29rumbenK+PnZyarJw++tmtLc1uIHO5lHr6eju62l7abjEw66XoTkPL+tXjg+dffOjJXC63qGnxU3t3uQK5XObWzd+wbfP7L+z7ZN97K9bdv6ZtU+xEzB7l/tL44Pm3n3h+5jvb33nZk6TMSvlCuRg7Qza01q0sTp6NnSIz1JWIuhJRVyKtdSsbG+pjp8iMoZExddWQouMJACDNjAYAIIjRAAAEMRoAgCBGAwAQJD84PBo7AwCQAflqtRo7Qzb4O5xEhkbGGr87FDtFZgzduc27K5yLMRF1JaKu2hxPAABBjAYAIIjRAAAEMRoAgCBGAwAQxGgAAIIYDQBAEKMBAAhiNAAAQYwGACCI0QAABDEaAIAgRgMAEMRoAACCGA0AQBCjAQAIYjQAAEGMBgAgiNEAAAQxGgCAIEYDABDEaAAAguQHh0djZwAAMiBfrVZjZ8iGoZGxxob62CkyQ12JqCsRdSWirkTUVdtfRXucnTIRzUQAAAAASUVORK5CYII=" width="700" height="75" class="img_ev3q"></p>
<p>这个布局是如何得到的呢？</p>
<p>先看仅设置 left 是布局是怎样的，Item 的 left 分别被设置为 0% 到 -400% 时，Item 重叠在中央位置。</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">ul</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">0</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-100</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-200</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-300</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">3</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-400</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">4</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">ul</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABLCAIAAAAJX+LJAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAAKgSURBVHic7dixaxNhHMdhTwRrSwdByBCCUFBoUVAHcXMQHHRxcLGrHRz6DzhIB3cnB4U6OFnF1RYEBytaJ5updXLIJZCg4BBqdTqH/gMXSPJyv3ue7bYvL3cfXi4riuIYJeS9QavZSL2iMhzXSBzXSBxXGVmn20+9AYAxy9zcS3JZGEneG7T21lOvqIx8acXbVZ6PsYzjqQcAMH7iDhCQuAMEJO4AAYk7QEDiDhCQuAMEJO4AAYk7QEDiDhCQuAMEJO4AAYk7QEDiDhCQuAMEJO4AAYk7QEDiDhCQuAMEJO4AAYk7QEDiDhBQ1un2U28AYMyyoihSb6iGvDdoNRupV1RG3htsDr+lXlEZt+aveLvK8zGW4bcMQEDiDhCQuAMEJO4AAYk7QEDiDhCQuFMvh8ODZ6uP3794m3oITJa4Uy+f3my1P+ykXgETJ+7UyO/+z/3Pu2cvnEs9BCZO3KmRreevr925cbpxJvUQmDhxpy5+tPf//fl7/urF1ENgGsSdWjgcHnx89e76vdszc7Opt8A0iDu18P1r++TszMKlxdRDYEpOpB4A07D/ZXd7Y3N7Y/Posf1h51e3v7y2mnYVTI64UwvLa6tHKT8cHrx8+GTh8uLN+3dTj4IJ8lsGICA3d+rl1Pzcg6ePUq+AiXNzBwhI3AECEneAgMQdICBxBwgo63T7qTcAMGZZURSpN1RD3hu0mo3UKyoj7w1ae+upV1RGvrTi7SrPx1iG3zIAAYk7QEDiDhCQuAMEJO4AAYk7QEDiDhCQuAMEJO4AAYk7QEDiDhCQuAMEJO4AAYk7QEDiDhCQuAMEJO4AAYk7QEDiDhCQuAMEJO4AAYk7QEBZp9tPvQGAMcuKoki9oRry3qDVbKReURmOaySOaySOq4z/PRqP0S7GH6cAAAAASUVORK5CYII=" width="500" height="75" class="img_ev3q"></p>
<p>接着，你可以给每个 Item 添加 translateX，translateX 为正数时，元素会向右移动。给 Item 0 ~ Item 4 设置 translateX(0%) ~ translateX(400%) 的过程，就是模拟「Item 按 012345 的顺序，从中央区域开始向右放置」。</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">ul</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">0</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">100</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-100</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">200</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-200</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">300</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-300</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">3</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">400</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-400</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">4</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">ul</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAABLCAIAAAAd0MOcAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAAVISURBVHic7dxdaNV1HMfxcyLwqVGWtmRsSZm0THAFqYlEioYLKkIGeROmkBcSUUJURIQ9WAhCeDHJFd30MEfghWe5YWFrywf07KZOF+XFzoY7zlq1jrOr08VgkKT+/mH8zv/wel1tXn34suF753+2bKVSyfBviiOlxob62CtSw7kSca5EnCsR50rEuRLJDg2Pxt4AAKRA1isNlyM/EymOlBp/2B97RWoU79nqqyucb8ZEnCsR50rkutgDAIB0EA0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQJDs0PBo7A0AQApkK5VK7A1VqjhSamyoj70iNYojpdzE6dgrUqO17j7nCudciThXIs6ViMcTAEAQ0QAABBENAEAQ0QAABBENAEAQ0QAABBEN1Kwzg4XXHtmyrbm1ffvOyYly7DnpkO/td64Qn7yxd1tz67bm1tce2XJmsBB7TrXr6eiaOteutufHR8diz0mHyYly+/adPR1dsYf8g2igNk1OlHv2d61u27DnxIFMJtPX2R17UQrke/v3PfdW7BUp0NPR9cfY+J4TB9oLudVtGzrf3uc/wivI9/afPvztO19/3F7INS1Z9Pmb7ao0RF9n9+CR72KvuNT1sQfA/+Lsz0PjpfOL7l8yq27O8sfXHD/41eREeVbdnNi7qtcnb+wtDOSXP7bmr/Jk7C3Vbv2WjdMfL7p/yakv+8ZHz8+9bX7ESdWsZd2qlnWrpj5ufrDl8AcHLpYv+Ga8svHRsUJ//vZ774o95FJeaaA2/T72azabnXvbvKlPfzv3y8XyhbiTqlzzgy07D3c0LF4Yewi1rDCQb1qySGBdVfe+z1c8sXZu/bzYQy4lGqhZN916y8w5szOZzI3zb551gx9rrmL6Z0ESOXbwyNz6eQvubIo9pNrle/u3NbcWBvIrHl8be0u1OzNY+OvCxcUPLI095F+IBoD/qKejqzCQX791oxfbr6pl3ar2Qu7JHc989NJubx29gsmJ8tFPDz301KNTP/NUG9FAzZp+JPH72K+Tf3rjFddYT0dXX2f35nd33LGsOfaW1Lh7xbKGuxb+dOr72EOq14/HBmfMnlm1X1TeCEltuuSRxPSjCrgmejq6Th/+9oWPd3k8n8jF8oXfzv0yv2lB7CHVqzCQ/+az3Def5aY+HTzy3fnh0U2vb4+7appXGqhNC+5smjF75slDRycnyscPfnVHS7MXkLlW8r39fZ3dba88qxhC5Hv7p/88w8lDRzOZzMKli2OPql6bXt/eXsi1F3J7ThxYtnblkzueqZ5iyHilgVo1q27O+q0bP3pp9xe7P1y2duXqtg2xF1E7CgP5saGz7z314vS/PPv+q95Jejkt61aNDZ19+eGnM5nM/KYFm9/dIbbSK1upVGJvqFLFkVJjQ33sFalRHCnlJk7HXpEarXX3OVc450rEuRJxrkQ8ngAAgogGACCIaAAAgogGACCIaAAAgmSHhkdjbwAAUsCvXF6WX7lMpDhSavxhf+wVqVG8Z6uvrnC+GRNxrkScKxGPJwCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAiSHRoejb0BAEiBbKVSib2hShVHSo0N9bFXpIZzJeJciThXIs6ViHMl8jewHKaYC/PJZgAAAABJRU5ErkJggg==" width="700" height="75" class="img_ev3q"></p>
<p>想必你已经猜到，下一步就是想办法把 Item 3 和 Item 4 放到 Item 0 左边。怎么做呢？可以给 Item 3 和 Item 4 的 translateX 都减去 500%（轮播的整体长度）。这样便得到了初始布局的代码。</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">ul</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">0</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">100</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-100</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">200</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-200</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-200</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-300</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">3</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">transform</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css function" style="color:hsl(221, 87%, 60%)">translateX</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-100</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">-400</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">4</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">li</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">ul</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="逻辑代码">逻辑代码<a href="https://lijunlin2022.github.io/blog/2023/12/14/loop-swiper#%E9%80%BB%E8%BE%91%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="Direct link to 逻辑代码" title="Direct link to 逻辑代码">​</a></h3>
<p>再看 JavaScript 代码。之前的 HTML 代码，只是模拟了轮播图的初始顺序，而 JavaScript 代码，则是要模拟中央元素从 Item 0 变为 Item 4 的所有过程。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">prevBtn</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">addEventListener</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"click"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token function" style="color:hsl(221, 87%, 60%)">onBtnClick</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">nextBtn</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">addEventListener</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"click"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token function" style="color:hsl(221, 87%, 60%)">onBtnClick</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">function</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">onBtnClick</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token parameter">activeIndex</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  currentIndex </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">mod</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">activeIndex</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> len</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token known-class-name class-name" style="color:hsl(35, 99%, 36%)">Array</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token keyword module" style="color:hsl(301, 63%, 40%)">from</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">items</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">children</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">forEach</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token parameter">ch</span><span class="token parameter punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token parameter"> index</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> position </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">index </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> currentIndex</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> finalPosition </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">mod</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">position </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> halfWidth</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> totalWidth</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> halfWidth</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    ch</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">transform</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:hsl(119, 34%, 47%)">`</span><span class="token template-string string" style="color:hsl(119, 34%, 47%)">translateX(</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token template-string interpolation">finalPosition</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token template-string string" style="color:hsl(119, 34%, 47%)">%)</span><span class="token template-string template-punctuation string" style="color:hsl(119, 34%, 47%)">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>首先，更新 currentIndex 是在模拟轮播左滑或者右滑，<code>currentIndex - 1</code> 是左滑，<code>currentIndex + 1</code> 是右滑。</p>
<p>然后，<code>mod(activeIndex, len)</code> 能让轮播的下标始终处于 0 ~ 4，如果 activeIndex 等于 5，currentIndex 就会是 0。如果 activeIndex 等于 -1，currentIndex 就会是 4。如果你不理解取模函数，可以先看我的另一篇文章 <a href="https://lijunlin2022.github.io/blog/2024/01/18/remainder-and-modulo" target="_blank" rel="noopener noreferrer">取余和取模如何区分和应用</a>。</p>
<p>接下来 forEach 内给元素设置 transform 的代码，是在模拟之前提过的——把元素从中间往右侧放置，发现中央 Item 右侧有 2 个元素后，又把剩余元素放到 Item 左侧。为了不显得啰嗦，我这里仅说明如何模拟 01234 变成 34012。</p>
<p>不妨把 Item 0 到 Item 4 的下标都代入计算 position 的代码中，不难发现，currentIndex 为 0 时：</p>
<ul>
<li>Item 0 的 position 为 0</li>
<li>Item 1 的 position 为 100%</li>
<li>Item 2 的 position 为 200%</li>
<li>Item 3 的 position 为 300%</li>
<li>Item 4 的 position 为 400%</li>
</ul>
<p>正是按照 01234 的顺序，从中央往右侧放置。</p>
<p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAABLCAIAAAAd0MOcAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAAVISURBVHic7dxdaNV1HMfxcyLwqVGWtmRsSZm0THAFqYlEioYLKkIGeROmkBcSUUJURIQ9WAhCeDHJFd30MEfghWe5YWFrywf07KZOF+XFzoY7zlq1jrOr08VgkKT+/mH8zv/wel1tXn34suF753+2bKVSyfBviiOlxob62CtSw7kSca5EnCsR50rEuRLJDg2Pxt4AAKRA1isNlyM/EymOlBp/2B97RWoU79nqqyucb8ZEnCsR50rkutgDAIB0EA0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQBDRAAAEEQ0AQJDs0PBo7A0AQApkK5VK7A1VqjhSamyoj70iNYojpdzE6dgrUqO17j7nCudciThXIs6ViMcTAEAQ0QAABBENAEAQ0QAABBENAEAQ0QAABBEN1Kwzg4XXHtmyrbm1ffvOyYly7DnpkO/td64Qn7yxd1tz67bm1tce2XJmsBB7TrXr6eiaOteutufHR8diz0mHyYly+/adPR1dsYf8g2igNk1OlHv2d61u27DnxIFMJtPX2R17UQrke/v3PfdW7BUp0NPR9cfY+J4TB9oLudVtGzrf3uc/wivI9/afPvztO19/3F7INS1Z9Pmb7ao0RF9n9+CR72KvuNT1sQfA/+Lsz0PjpfOL7l8yq27O8sfXHD/41eREeVbdnNi7qtcnb+wtDOSXP7bmr/Jk7C3Vbv2WjdMfL7p/yakv+8ZHz8+9bX7ESdWsZd2qlnWrpj5ufrDl8AcHLpYv+Ga8svHRsUJ//vZ774o95FJeaaA2/T72azabnXvbvKlPfzv3y8XyhbiTqlzzgy07D3c0LF4Yewi1rDCQb1qySGBdVfe+z1c8sXZu/bzYQy4lGqhZN916y8w5szOZzI3zb551gx9rrmL6Z0ESOXbwyNz6eQvubIo9pNrle/u3NbcWBvIrHl8be0u1OzNY+OvCxcUPLI095F+IBoD/qKejqzCQX791oxfbr6pl3ar2Qu7JHc989NJubx29gsmJ8tFPDz301KNTP/NUG9FAzZp+JPH72K+Tf3rjFddYT0dXX2f35nd33LGsOfaW1Lh7xbKGuxb+dOr72EOq14/HBmfMnlm1X1TeCEltuuSRxPSjCrgmejq6Th/+9oWPd3k8n8jF8oXfzv0yv2lB7CHVqzCQ/+az3Def5aY+HTzy3fnh0U2vb4+7appXGqhNC+5smjF75slDRycnyscPfnVHS7MXkLlW8r39fZ3dba88qxhC5Hv7p/88w8lDRzOZzMKli2OPql6bXt/eXsi1F3J7ThxYtnblkzueqZ5iyHilgVo1q27O+q0bP3pp9xe7P1y2duXqtg2xF1E7CgP5saGz7z314vS/PPv+q95Jejkt61aNDZ19+eGnM5nM/KYFm9/dIbbSK1upVGJvqFLFkVJjQ33sFalRHCnlJk7HXpEarXX3OVc450rEuRJxrkQ8ngAAgogGACCIaAAAgogGACCIaAAAgmSHhkdjbwAAUsCvXF6WX7lMpDhSavxhf+wVqVG8Z6uvrnC+GRNxrkScKxGPJwCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAgiGgCAIKIBAAiSHRoejb0BAEiBbKVSib2hShVHSo0N9bFXpIZzJeJciThXIs6ViHMl8jewHKaYC/PJZgAAAABJRU5ErkJggg==" width="700" height="75" class="img_ev3q"></p>
<p>再把 Item0 到 Item 4 的 position 代入计算 finalPosition 的代码中，不难发现：</p>
<ul>
<li>Item 0、Item 1 和 Item2 的 finalPosition = position，也就是说 3 者的位置没有变动。这是因为它们的 <code>position + halfTotalWidth</code> 是 250%、350% 和 450%，都比 totalWidth 小；</li>
<li>Item 3 和 Item 4 的 finalPosition = position - totalWidth，也就是说 2 者的位置都往左移动了 totalWidth（500%）。这是因为它们的 <code>position + halfTotalWidth</code> 是 550% 和 650%，都比 totalWidth 大。</li>
</ul>
<p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAACqCAIAAADAyAu7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AABxSSURBVHic7d1rbFv13Qfw37GP49u5pW1IS9qU0tItdOhpQRuXqs80qoLopDEhVAneTEAl+qKapq0S2iaEELvAhIQ08SJodDw8Lxi01SRekK6tgJWQAmU0ZQzMBnR7koYmTZvEPj4+vhzbz4tjH9sndnuc2D4Xfz+qjFvS5t+/nObr/+X3YybOTxMAAADA1bBEtG6g3+5huMbk1Aymy7rJqZl1n71o9yhcY/LGvXh1WYcvxqZgupqC6WrEZ/cAAAAAwB0QGgAAAMAShAYAAACwBKEBAAAALEFoAAAAAEsQGgAAAMAShAYAAACwBKEBAAAALEFoAAAAAEsQGgAAAMAShAYAAACwBKEBAAAALEFoAAAAAEsQGgAAAMAShAYAAACwBKEBAAAALEFoAAAAAEsQGgAAAMAShAYAAACwBKEBAAAALEFoAAAAAEsQGgAAAMASZuL8tN1jAAAAABdgiWjdQL/dw3CNyakZTJd1k1MzI/IZu0fhGrv5mzFd1mG6moLpagqmqxFsTwAAAIAlCA0AAABgCUIDAAAAWILQAAAAAJYgNAAAAIAlCA0AAABgCUIDdJdzZ2OP3/3IvqHdw/ufUmXF7uG4w/iJMUyXFa88+fy+od37hnY/fvcj587G7B6O0x0/eESfrqf3/GR+etbu4biDKivD+586fvCIXQNAaIAuosrK8ReP7Nhzz3OnDxPR6KGjdo/IBcZPjL3w41/bPQoXOH7wSGJ2/rnTh4djIzv23HPoNy/gG+EVjJ8YO3Ps3d++/fJwbGRwy6bXfjWMVGrF6KGjZ998z8YBsDZ+boAOu/DVxPzMpU23bAnz0VvvvfOD199SZSXMR+0el3O98uTzsVPjt/7gzoyi2j0Wp7vrkfuN55tu2fLRX0bnpy/1ru6zcUhOtm3X9m27tuvPh+7YduwPh9NKCl+MVzY/PRsbG1//rRtsHANWGqCLxGfnGIbpXb1K/+nCxctpJWXvkBxu6I5tTx07OLD5OrsHAl4WOzU+uGUTAtZVHX3htdt+uLO3f5WNY0BogO4iXbMyFI0Qkdi3Iszhbc1VGO8FoSnvv/5mb/+qNRsH7R6I042fGNs3tDt2avy2e3faPRanO3c2lkmlN3/nJnuHgdAAANBKxw8eiZ0av2vv/Vhsv6ptu7YPx0buO/DwS489i6OjV6DKysk/vfHdB76vv+exEUIDdBdjSyI+O6cmcfAKWuz4wSOjh44+9MyB67cO2T0W1/jmbVsHbrjuy48+tXsgzvX5+2eDkZATXlQ4CAldxLQlYWxVALTE8YNHzhx796cvP43t+aakldTCxct9g2vsHohzxU6Nv/PqyDuvjug/Pfvme5fOTz/4xP7OjwQrDdBF1mwcDEZCH75xUpWVD15/6/ptQ1hAhlYZPzE2eujonl88isRgxfiJMaM8w4dvnCSi627abPegnOvBJ/YPx0aGYyPPnT68deft9x142JbEQFhpgK4S5qN37b3/pcee/fOzf9y68/Yde+6xe0TgHbFT47MTF373wM+MX3n097/ESdJGtu3aPjtx4eff+xER9Q2ueeiZAwhbrsBMnJ9eN9Bv9zBcY3JqBtNl3eTUzIh8xu5RuMZu/mZMl3WYrqZgupqC6WoE2xMAAABgCUIDAAAAWILQAAAAAJYgNAAAAIAluD0BAADgRJFsXkxroqpJqjbRG/paDNo9ImImzk/bPQYAAICu5stlWSUZSCVZJcUqMptKBVJJRtOIYbRINMfxycEN6ZX230pliQh3CK3DlcumTE7NrPvsRbtH4RqTN+7Fq8s6fDE2BdPVlPZOVy5HiTjF4xSPl54k4pTJEBGxLEkSSb20doBEiaReEgTW52OJwu0aTXOwPQEAAB2Uz1NSJln/kaB1g7TmWrvH1DZ5jRKJmnAQT5CaKv3fcIQkiVatoo2bSJJIkijK2Trcq0NoAACANigWKaVUwoHxJJUiImJZEgQSRCoW7R5oixQKJMulZGBEhGSy9H8ZhniepF664YbSEoIoUtD+MwrNQmgAAIDlyaTrhINkkgoFIqJAoJQPVq+mzd8oPY+4uVdcsUhK0ry/IMuVAMSyJErUv5o2S6UlBEEkv9/WQbcGQgMAAFijaeWdBSMcyCQnKJcrfUAgQIJIgkDXbyw9EUQKO2Q7fqlSKfMRBDlB+XzlA8JhEiW6doAkicRekiSKRolh7BtxGyE0AABArUKhvLNQGw5UtfIxPT0kiCRJtH49CQLxIokihUL2DboV0mk9FohTX9M/PylFBE2r+RheKOUDSSJRIkmioMv/1s1AaAAA6GKqumjxIEGKUtpZ0AWDJIh07UBl8UAUXP+dMpeleKLqfGLVFQYiQf+P31+KBfqNBlEi0SO7DEuG0AAA4H2MptH8XJ3FA9Pb6FCIBIH6V5fzgUCCK8/r1TCuMFTng+pVE10wRP2r9Ygwq1Hfxg3EcV7dZVgyhAYAAA8pFCiZpKRMiUT1zca16bT5I8NhWrmSeJFEobKE0NNjx6Bbp1AgOUHxBCUWKgsJSrLOR3J8zRKCJFXvraSnZojnOzds90BoAABwp1SKZLk2HyRIUepcYgxHMr0rg6tWkiiW8gEvuD4fFIuUTJr3F6qvMBj8/tLxi9IphF4SRWLx7W8pMGsAAM6WzdYJB7Jcc4DfEIlUlg2Mx0DgotsrQqZSFF+gRKLmsfrghSEYrAoHEkkS8Tx2GVoFoQEAwBnyeUomK5kgWX5SPp1nFo3WyQceeAOdTtcsHtS9wmDgOPNZRbff8HQ297+8AADcpVgs7ywkKCGXnsgyKUrD38Jx5VhgnE8UyO/+f8Cz2XI4qFpCyGbrf7DPR6JYWkIwKiYFAp0dcbdz/2sOAMCxMpmaCwvJ8pO66+o6jq9cazTOH3jgmp/FKwyGQE95/aCcEjiefL4OjhjqQGgAAFi2vEZysraIskwJmXIN3jQTEcOU84FAoki8ng94L+SD0hWG2i5Nda8wGKLRmiUEUXJ3nWnvQmgAALCsWCRFMYcDWS41YWpEb1ZkOn/Ae+J9s/UrDAafjwTBHBGwy+ASCA0AAPWk0zXhQD+ZaDRhasTnq5MPOM4L+YCIUop5f6HRFQZDIFDpyKDnA0HwyGx0JYQGAOhummYOB3o+MJowNaK/YzbaLujPo17JB6YrDPpjoysMhkikplySJFEk2pHhQocgNABAdygUSEnWCQdXOItn8PuJF8znE6NeqTFcucJQ9djoCoOBYUgQavKBKLm+YBRcDUIDAHiOmjKHA1kmJXmljXaDXj3QaLtQygde6XSsaZRY1KXJSmxiWfMSgiB6ZE0FmoHQAACulcvWCQeyTPmrraLrWNZcGUkQKRLxSD4oFKrzQd/sLI2qVyoFUS0crskH+i6DN6YFlgehAQAcr1Co7r2kPxmIx690odGEZSttF6rzgTcUi5SUzY2ekzVXGBr2sdZvdph2Gdze1hLaBqEBAByjWGy4s7BIw5XxQKASC4zziWGv5ANa0hUGg5+t6ttU3mXwQGUI6BRm4vy03WMAgK7jy+VYNeVXFTaVYtUUm0qxquJXU4zFb35ERFRgA1okqkWjWoTTohEtzOUi0YKH3iX7stmAIrOpFKvIbEoJKEk2pTB1+1TVU+jpyUX5HMdrHJeLclpU0EIh7DLAcrBE5O7WZ5016fZOcZ2F6WqKN6crny/3XpJrbjZe9XC+STBoOp84pWQGNqzrIfLIef1stqY/k8UrDNV4wbSK4AuGgkR6hvLmq6ttMF2NYHsCAFpBL5W4OBxcuVRiXcFQ5Vqj8bho/aAwNdOakXeefoXB1Og5nW7iT/D7a44gSL0keqJ/FTgeXmQA0KR0urR4kEhUUsJVSyXWFQpV2i6UWjAInjqFV3uFoXQWIWXtCoMhGCxVXBbL3Zs4r5SIALdBaACABjSt0psxoW8xJEi2UCqxrnC4ZvFAzwdeqgVUusJQ7s+UWKB4wnSFwRKOr1lCkCQKNbz6ANBhCA0AXa9QIEWpEw6s1PypKxIxby4Igqc6EhWLlEqZSyRZv8Jg8PlqdxkkEiVi8c8yOBdenQDdRFVrGjcn9T5M1kol1hWJVq41GvUTPfZtT1UXVVlOWK0fVa2np6qvYy9JEvE8dhnAXbz1tQ0AulyuTjiQ5as3HLqCKGc+n8h7Lh8YVxiqH5u96KGLcpVyinrppHC41cMF6DRvfcEDdJtCgZLJmtsK+snEpo7iL8ZxlWWD0vkD3muH8zWtTpempc2bz0eCWJMPRNFT2zEAZd76VwDAq4pFUlVzB+ekTIqy9J0FImKYcj6oWkLgea+VCNRrRSzzCoMh0GNeQuB5tG6CLoHQAOAw2WydcCDLZLkOYH16i4HF+cBj3+30pRdTiaRlHtqozgeS5J2OFQDNQ2gAsEk+b2rC1D83R5k0ZTLL/ZN9PuJ48/lEjvNaPtDLSZn2F+TmrzAYfD4ShEotBP0JdhkAqiA0ALRZsUgppapxc3kVYdHy+FJKFvh8xAskCuX6SCKJAkU9lw9o0RWGeHxtPE6FZay+BAI1tRBEiQTBg/MG0FIIDQCtk0nXCQdJeenvfavp74NN5xOjXqwMmM2WiytXHUFY1AW7ub92JFITESSJItHWjRigWyA0ADRP00w7C6Ufi76xLZHfb66MJIgUjXowH7TwCoOBYcq7DL2VukleKj0JYB+EBoDGCoX6Owtq802YGvGzpTUDQZgrMCsG15IgUiTiwXygX2EwdWlaQjsrE5Y1LyHwgtdufwA4BkIDABERqWqdxQNlSU2YGmFZEkTz+cSqo/jK1MyKNZ7oxmtcYaheQljOFQZDOGzkg1mt2LdxgzcXYACcCqEBukwuV29nIbGsUomLBQLmzQVRoLAXr+rpxzyN/kz643KuMBj0O6JGxWV9OaGqAWZ6aoY4brmfBQCagdAAHqW/2U0uCgfL3C9fLNBTLq5ctYTg1YLBi64wUGJJXRgW87MkiZWLjpJEgohdBgCnQWgA90ulyhWQqsLBMksl1tXTQ6JoXkLwatviTKZOl6ZWnfQMhWpqIUiSN6+BAHgOQgO4RzZbJxzIyda80zUJhirXGo18ULU27im5HCUS5ojQwiUZnq/JB5JEQY8mLQCvQ2gA58nnKZkkuao3o54Sll8qsa5QyLx4IAiezQf5PMm19Q8S8RZcYTD4/STW7jKIotc6XQF0MXwxg32KxfLOQoLkqg7OylI7CV1VOFwnH3j1Bv/iKwzxOCmtuMJgCAbNSwgcj10GAA9DaICOyGQqjZsTVUsILbzQaBKJmOsnCt7tVly6wmDqwtDq6eW42ojQ69nzHADQADNxftruMYB3MIU8m1L9qsKmUmw6xSoKm075UymflmvfJ80Hw1okokU5LRrNRaJaJKqFo0XWs4HYn8mwSpJNKaySDKQUVkmyqSTT0nxQZBgtyuc4TuP4XJTTolwuyhdxlwGg67FEtG7AE/VkOmJyagbTRVRuMGg0bk4kSpcbW7g7Xpe/QGyeAhoF8sQWiM0Tm/czRT9RkIhUIpXocnuH0D6TN+41v7rqXGGIU67VCaynp6bistTLcFzA53P4sgy+GJuC6WoKpqsRz74bg5ZJp2tvK8iUlCnZ0lKJdbF6LND0ZECBArFak02KXKXABBJxyiqV84nxOGVaXVWCiKJc5QiCXl3Rq1UlAKDVEBqgTNNqei8Z+aDl72sX0/NBQCunBK/ngyJDmo80ljQf5VjK+UnzU963+vxfW/yJfD4SxJp8IHr3YAcAtB9CQ/cpFEhJ1gkHqtqJzx7Il1YO9GSg7zJQq6swOUeRKO+nnJ80lnI+0ljK+Snva8vnCvSYlxB4nnzt+VwA0JUQGjxNVc07C3oTppaXSlzM5yOOT/cEQ5n/IzZfygr+vJfXD4hI85HmpxxbXkjwk+ZvVyKKRGvygSRV974CAGgHhAZPyGWrVg6qFg9a24SpEZ+PeKGmc6MgEMeRzzc7NbPus087MYbOy/tKmSBXXkLQfFRsTyZimMouQ6mBk0gBj5aXAAAHQ2hwlUKhqkNj1eJBO47L1eXzmSsjCSJFox5fAy/o6wf+0qP+pE35gIgCgZpaCKJEguDxGQYAl0BocKRiseHOQsf4/fXzgbfr/RWY0vqBscuQY6nQzr9y1SXS2U139W3cQNFoGz8dAMAyIDTYLZutEw6SMuXznRuDn61sLojl+okRr+eDYjkf5Koe23RE0WAUmdAPeQTy5KvcXE2v7ENiAAAnQ2jolHy+3KGxtkljtkW9hi1i2cqygVheQghHvJ4PjCsM5Uf9R1sxxVJE6CnnA2/fIwWALoDQ0Gp6FwB5UThod6nExQKBmrYL+vNuOGBf2V8oP+bbdoXBUNll0K+SasS2ufgVAEDHITQsQyZNCX3xoCocdKBU4mKBnsqygfHYDWX+KlcYqpYQ2ndE0aAvGzTYZQAA8CqXh4Z0uhN99jStfNQgIV2YodjHpZTQgVKJi/X0kCia80E3NBss+OrsL7T1iKKOIQpopWRQ6nmRJ8a71agAABpzbWgoFOiTv1MiTju+28o/M6XUNG7Ww0FVqUS+ZZ/MgmCw6vxBeaMh2AX5QD+imKvdYih05M5h9S5DQKOARn4sIQAAlLgzNFy+TKMn6fIlun37Ev8EVS3vJlRXQ+pIqcS6QiHz4oEgUDBoz2A6qfoKg7GE0O4rDAa2vLmgryKweUQEAIArcFtoyOfp7Bn6+8elcwP9V2tdmsvVCQdyp0ol1hUO1zmf2NMF1f2qrzBU7zJ0BnYZAACWzVWh4eJFGj1JC/OlnwYC1Lui9LxQoGSyUj45UU4J6U6VSqwrHFl0PlFwVvXfQoEuzdI1rW4bXyySolB8gZuYonmuc1cYDL5iOSJo5VUELCEAACyXS0KDptFHH9I/Pqn5RZalsdFSPlAU23YWdJFIZdlAP3/AC07vQTw/T++8TddvWm5oSKUoEad4vPKYSOjFqXqJiNp/iYOtusWAXQYAgLZxQ2i48DWNvkNywvzrqkr/+qcN44lGzecTeYFYN8ykoVikf/yd/vYhFQp02x1N/MZMmuIJSixQPEHxBUokKBHv7C2SYtVFx/KlR+wyAAB0hLO/1eWydPoD+jxm2wA4znQ+8XxSXbvuWtvG0xKJOL3zV5qZISLy+WjlqvoflsuVVg6qlxAymU6OtLTLUB0RPN9cGwDAwRwcGiYnaGyUFKUTn4thKMpVrjXqGw08T37zMb1iqrNVn1urWKTPPqUPT1O+fA60dwWxLOU1SiQokaD4QmUhQe14CUt/vnTRsRIRsMsAAOAgjgwNmTS9/x59+UVb/nCGIY43n0/k6uQDr5FlGj1JF76u+cWkTK+9QskONs/UMVSqqIhdBgAA93BeaPj3OXpvrLqe0tIxDPG8+Xwix5OvU2UAnOPzGJ1+v87hg0ymEzsOTLFyRFFv4IRdBgAAF2Imzk/bPYYagWQyfPHr8MzXPfG49d9VZHz5SCQXiWqRqBbhtGhEi3D5cLjIdF8+qOVPp1f8Yzx06WLHPmM+GMpxvMZxuQivcVyO4/PdUMUSAKALMBPnp0fkM3YPow4+k7/usrrhcmpNouFbYaXH/9cbVsRDrBL0FzrS3Hk3f7Mzp6uuzReV7f9e6NHadTKgyFA8FFgIswuRwHyEXQixC5FA1l8Jau6aLtthupqC6WrKbv7mdQOtrsjiXZNTM5iuupy3PVEmB/2fXMt9ci0XzubXz6evv5waWMj4aosxRLN5IpJDzv1b2CWSy//3l/Pr51qxy1OW8/tK+SDMLoTZhXBPPMx2oGMUAAA4hAu+3ao9/s/7o5/3R3u0wuC8umEuPTinsoVSerj1P/Gp/wp1oBmyi2y8lNrx1XxweQsMqYB/IRJYiLDzYXYhHJgPB5Sg18+KAgDAFbkgNBiyrO/LvuiXfVG2UFy7kN5wWV0/p65Sspsupb7oi9g9Oge5HA2MrxXWz6mr5YyVGwlFhhJBYwkhsBAJLITZDNvtx0EAAMDETaHBoPmY/6wI/2dF2FcsrklkViY7WZHQBRbCgYWBwMcDfFArDM6n18+p6xbSjU42qAHfq7esqT6IAAAAUJcrQ4OhwDBTYmhKxOH8+jKs74u+yBd9EV+xuCaeXT+nrl9QBbWmw2c4VxiaTn48INg1SAAAcAt3hwawqMAwU1JwSgqeIqk3pa2fV9fPqf3lzYubJ+V/XsOlA1hsAACAK3Hi94njB4/sG9q9b2j303t+Mj89a/dw3EGVleH9Tx0/eOSqHzkfYc8O8K/fdM3/fnvg7c0rz62KMFT89mQTVTFc7dzZ2ON3P7JvaPfw/qdUuSNFyt1v/MQYpsuKV558Xv+36/G7Hzl31r6mOQBt47jQMH5i7Myxd3/79svDsZHBLZte+9Uw/qmyYvTQ0bNvvtfUb0kHfP/qi5z4xsr/uXXtVyvD3VDEWZWV4y8e2bHnnudOHyai0UNH7R6RC4yfGHvhx7+2exQucPzgkcTs/HOnDw/HRnbsuefQb17Aex7wHsdtT2zbtX3bru3686E7th37w+G0kgrzUXtH5XDz07OxsfH137phab+9wNDX3XEu5MJXE/MzlzbdsiXMR2+9984PXn9LlRW8uq7glSefj50av/UHd2aUVtb88KS7HrnfeL7pli0f/WV0fvpS7+o+G4cE0HKOW2moFjs1PrhlE77qruroC6/d9sOdvf0NmlxDWXx2jmGY3tWliVq4eDmtdLyZp6sM3bHtqWMHBzZfZ/dAAMARHBoaxk+M7RvaHTs1ftu9O+0ei9OdOxvLpNKbv3OT3QNxB+malaFohIjEvhVhDmsMV2Es+0FT3n/9zd7+VWs2Dto9EIAWc2ho2LZr+3Bs5L4DD7/02LM4T3QFqqyc/NMb333g+/o3QgCw3fGDR2Knxu/aez92vsB7HBoadN+8bevADdd9+dGndg/EuT5//2wwErp+65DdA3ENY0siPjunJnHGFlrs+MEjo4eOPvTMAXxVgic57iBktbSSWrh4uW9wjd0Dca7YqfF3Xh1559UR/adn33zv0vnpB5/Yb++oHMu0JWFsVQC0xPGDR84ce/enLz+Nk1jgVY5baRg/MWaUZ/jwjZNEdN1Nm+0elHM9+MT+4djIcGzkudOHt+68/b4DDyMxXMGajYPBSOjDN06qsvLB629dv20IC8jQKuMnxkYPHd3zi0eRGMDDHLfSsG3X9tmJCz//3o+IqG9wzUPPHMBXILRKmI/etff+lx579s/P/nHrztt37LnH7hGBd8ROjc9OXPjdAz8zfuXR3/8SJ0nBY5iJ89Mj8hm7h+Eau/mbMV3WYbqagulqCqarKbv5m9cN9Ns9CteYnJrBdNXluO0JAAAAcCaEBgAAALAEoQEAAAAsQWgAAAAASxAaAAAAwBJm4vy03WMAAAAAF2CJCBdLrMM9nKZMTs2s++xFu0fhGpM37sWryzp8MTYF09UUTFcj2J4AAAAASxAaAAAAwBKEBgAAALAEoQEAAAAsQWgAAAAASxAaAAAAwBKEBgAAALAEoQEAAAAsQWgAAAAASxAaAAAAwBKEBgAAALAEoQEAAAAsQWgAAAAASxAaAAAAwBKEBgAAALAEoQEAAAAsQWgAAAAASxAaAAAAwBKEBgAAALAEoQEAAAAsQWgAAAAASxAaAAAAwBJm4vy03WMAAAAAF2CJaN1Av93DcI3JqRlMl3WYrqZgupqC6WoKpqspmK5G/h+4cc7HdqeoewAAAABJRU5ErkJggg==" width="700" height="170" class="img_ev3q"></p>
<p>这么说你可能还是难以理解，我再换另一种说法。</p>
<p>你已经知道两个条件：</p>
<ul>
<li>要实现循环轮播图，需要保证位于中央的 Item 0 左右元素数量尽量相等。</li>
<li>translateX 为正数时，元素会往右边移动；translateX 为负数时，元素会往左边移动。</li>
</ul>
<p>不难想到，只要将 translateX 限定在 -X ~ X 范围内，由于 -X 到 0 的距离和 X 到 0 的距离相等，那么 Item 0 左右的元素数量应该也相等。</p>
<p>对于 5 元素的轮播图，X 的取值就是 halfTotalWidth（250%），也就是要把 translateX 的取值限定在 -250% ~ 250% 之间。</p>
<p>什么方法可以限定取值范围呢？取模！不过如果直接用 <code>mod(position, totalWidth)</code> 限定取值范围，你会把 translateX 限定在 0% ~ 500% 之间。</p>
<p>所以你可以这样做，先把 position + halfWidth 再除以 totalWidth 取模，这样 position + halfWidth 范围被限定在 0% ~ 500% 之间，然后给 mod(position + halfTotalWidth, totalWidth) 再整体减一个 halfTotalWidth，取值范围便被限制为 -250% 到 250% 了。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="代码示例">代码示例<a href="https://lijunlin2022.github.io/blog/2023/12/14/loop-swiper#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" class="hash-link" aria-label="Direct link to 代码示例" title="Direct link to 代码示例">​</a></h2>
<p><a href="https://codepen.io/lijunlin2022/pen/ZEaXKMM" target="_blank" rel="noopener noreferrer">无复制元素的循环轮播图 | codepen</a></p>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="https://lijunlin2022.github.io/blog/2023/12/14/loop-swiper#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-1-9eb31c">
<p><a href="https://mobile.ant.design/components/swiper" target="_blank" rel="noopener noreferrer">Ant Design Mobile Swiper</a> <a href="https://lijunlin2022.github.io/blog/2023/12/14/loop-swiper#user-content-fnref-1-9eb31c" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[移动端 H5 Tab 如何滚动居中]]></title>
        <id>https://lijunlin2022.github.io/blog/2023/07/30/tab-scroll-to-center</id>
        <link href="https://lijunlin2022.github.io/blog/2023/07/30/tab-scroll-to-center"/>
        <updated>2023-07-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Tab 在 PC 端、移动端应用都上很常见，不过 Tab 在移动端 比 PC 端更复杂。为什么呢？移动端设备屏幕较窄，一般仅能展示 4 ~ 7 个 Item。考虑到用户体验，UI 往往要求程序员实现一个功能——点击 Item 后，Item 滚动到屏幕中央，拼多多的 Tab 就实现了这个功能。]]></summary>
        <content type="html"><![CDATA[<p>Tab 在 PC 端、移动端应用都上很常见，不过 Tab 在移动端 比 PC 端更复杂。为什么呢？移动端设备屏幕较窄，一般仅能展示 4 ~ 7 个 Item。考虑到用户体验，UI 往往要求程序员实现一个功能——点击 Item 后，Item 滚动到屏幕中央，拼多多的 Tab 就实现了这个功能。</p>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/pdd-bbe07676c502413e147ffb0b5a48f9e0.gif" width="402" height="281" class="img_ev3q"></p>
<p>如果你也想实现这个功能，看了这篇文章，你一定会有所收获。我会先说明 Tab 滚动的本质，分析出滚动距离的计算公式，接着给出伪代码，最后再给出 Vue、React 和微信小程序的示例代码。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tab-滚动的本质">Tab 滚动的本质<a href="https://lijunlin2022.github.io/blog/2023/07/30/tab-scroll-to-center#tab-%E6%BB%9A%E5%8A%A8%E7%9A%84%E6%9C%AC%E8%B4%A8" class="hash-link" aria-label="Direct link to Tab 滚动的本质" title="Direct link to Tab 滚动的本质">​</a></h2>
<p>Tab 滚动，本质是包裹着 Item 的容器在滚动。</p>
<p>如下图，竖着的虚线长方形代表手机屏幕，横着的长方形代表 Tab 的容器，标着数字的小正方形代表一个个 Tab Item。</p>
<p>左半部分中，Tab 容器紧贴手机屏幕左侧。右半部分中，Item 4 位于屏幕中央，两部分表示 Item 4 从屏幕右边滚动到屏幕中央。</p>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/scroll-left-c0b4e3e5ef952e43a5dc0832ce6effd3.png" width="875" height="372" class="img_ev3q"></p>
<p>不难看出，Item 4 滚动居中，其实就是容器向左移动 distance。此时容器滚动条到容器左边缘的距离也是 distance。</p>
<p>换句话说，<strong>让容器向左移动 distance，Item 4 就能居中。</strong> 因此只要你能找出计算 distance 的公式，就能控制某个 Item 居中。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="计算-distance-的公式">计算 distance 的公式<a href="https://lijunlin2022.github.io/blog/2023/07/30/tab-scroll-to-center#%E8%AE%A1%E7%AE%97-distance-%E7%9A%84%E5%85%AC%E5%BC%8F" class="hash-link" aria-label="Direct link to 计算 distance 的公式" title="Direct link to 计算 distance 的公式">​</a></h2>
<p>该如何计算 distance 呢？你看下方这张更细致的示意图。</p>
<p>屏幕中央有一条线，它把 Item 4 分成了左右等宽的两部分，也把手机屏幕分成了左右等宽的两部分。你可以把 Item 4 一半的宽度记为 <code>halfItemWidth</code>，把手机屏幕一半的宽度记为 <code>halfScreenWidth</code>。再把 Item 4 左侧到容器左侧的距离记为 <code>itemOffsetLeft</code>。</p>
<p><img loading="lazy" src="https://lijunlin2022.github.io/assets/images/calculate-scroll-left-3664016f8945708fdc0b59f9fe16d043.png" width="645" height="541" class="img_ev3q"></p>
<p>不难看出，这四个值满足如下等式：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">distance + halfScreenWidth = itemOffsetLeft + halfItemWidth</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>简单推导一下，就得到了计算 distance 的公式。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">distance = itemOffsetLeft + halfItemWidth - halfScreenWidth</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="公式的伪代码实现">公式的伪代码实现<a href="https://lijunlin2022.github.io/blog/2023/07/30/tab-scroll-to-center#%E5%85%AC%E5%BC%8F%E7%9A%84%E4%BC%AA%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0" class="hash-link" aria-label="Direct link to 公式的伪代码实现" title="Direct link to 公式的伪代码实现">​</a></h2>
<p>现在开始解释公式的代码实现。</p>
<p>先看下 <code>itemOffsetLeft</code>、<code>halfItemWidth</code> 和 <code>halfScreenWidth</code> 如何获取。</p>
<ul>
<li>
<p><code>itemOffsetLeft</code> 是 Item 元素到容器左侧的距离，你可以用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetLeft" target="_blank" rel="noopener noreferrer">HTMLElement.offsetLeft</a> 作它的值。</p>
</li>
<li>
<p><code>halfItemWidth</code> 是 Item 元素一半的宽度。<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetWidth" target="_blank" rel="noopener noreferrer">HTMLElement.offsetWidth</a> 是元素的整体宽度，你可以用 <code>offsetWidth / 2</code> 作它的值，也可以先用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect" target="_blank" rel="noopener noreferrer">Element.getBoundingClientRect()</a> 获取一个 <code>itemRect</code> 对象，再用 <code>itemRect.width / 2</code> 作它的值。</p>
</li>
<li>
<p><code>halfScreenWidth</code> 是手机屏幕一半的宽度。 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/innerWidth" target="_blank" rel="noopener noreferrer">window.innerWidth</a> 是手机屏幕的整体宽度，你可以用 <code>innerWidth / 2</code> 作它的值。</p>
</li>
</ul>
<p>再看下如何把 distance 设置到容器上。</p>
<p>在 HTML 中，你可以使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollLeft" target="_blank" rel="noopener noreferrer">Element.scrollLeft</a> 来读取和设置元素滚动条到元素左边的位置。因此，你只需要容器的 <code>scrollLeft</code> 赋值为 distance，就可以实现 Item 元素滚动居中。</p>
<p>现在给出点击 tab 的函数的伪代码：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:hsl(221, 87%, 60%)">onClick</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> itemOffsetLeft </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> item</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">offsetLeft</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> halfItemWidth </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> item</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">offsetWidth</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">/</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> halfScreenWidth </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:hsl(221, 87%, 60%)">window</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">innerWidth</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">/</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  tabContainer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">scrollLeft</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> itemOffsetLeft </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> halfItemWidth </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> halfScreenWidth</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="代码示例">代码示例<a href="https://lijunlin2022.github.io/blog/2023/07/30/tab-scroll-to-center#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" class="hash-link" aria-label="Direct link to 代码示例" title="Direct link to 代码示例">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vue">Vue<a href="https://lijunlin2022.github.io/blog/2023/07/30/tab-scroll-to-center#vue" class="hash-link" aria-label="Direct link to Vue" title="Direct link to Vue">​</a></h3>
<p><a href="https://codesandbox.io/p/sandbox/vue-tab-scroll-to-center-qxw4vc" target="_blank" rel="noopener noreferrer">Tab 滚动居中 | Vue</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="react">React<a href="https://lijunlin2022.github.io/blog/2023/07/30/tab-scroll-to-center#react" class="hash-link" aria-label="Direct link to React" title="Direct link to React">​</a></h3>
<p><a href="https://codesandbox.io/p/sandbox/react-tab-scroll-to-center-22939z" target="_blank" rel="noopener noreferrer">Tab 滚动居中 | React</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="微信小程序">微信小程序<a href="https://lijunlin2022.github.io/blog/2023/07/30/tab-scroll-to-center#%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F" class="hash-link" aria-label="Direct link to 微信小程序" title="Direct link to 微信小程序">​</a></h3>
<p><a href="https://developers.weixin.qq.com/s/npBjVpmj7XKc" target="_blank" rel="noopener noreferrer">Tab 滚动居中 | 微信小程序</a></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>小程序的 API 和浏览器的 API 有差异。</p><ul>
<li><code>itemOffsetLeft</code> ，你需要从点击事件的 <code>event.currentTarget</code> 中获取。</li>
<li><code>halfItemWidth</code>，你需要先用 <code>wx.createSelectorQuery()</code> 选取到 Item 后，从 <code>exec()</code> 的执行结果中获取到 Item 整体宽度，然后再除以 2。</li>
<li><code>halfScreenWidth</code>，你需要先用 <code>wx.getSystemInfoSync()</code> 获取屏幕整体宽度，然后再除以 2。</li>
</ul><p>至于把 <code>distance</code> 设置到容器上，微信小程序 <code>scroll-view</code> 组件中，有 <code>scroll-left</code> 这个属性，你可以把 <code>distance</code> 赋值给 <code>scroll-left</code>。</p></div></div>]]></content>
        <category label="tab" term="tab"/>
        <category label="vue" term="vue"/>
        <category label="react" term="react"/>
        <category label="小程序" term="小程序"/>
    </entry>
</feed>