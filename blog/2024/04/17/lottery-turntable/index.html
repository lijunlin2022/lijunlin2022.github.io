<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">仿拼多多现金大转盘，H5 抽奖转盘如何实现？ | 小霖家的混江龙</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lijunlin2022.github.io/blog/2024/04/17/lottery-turntable"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="google-site-verification" content="z1w9iBabIBZmBrBiQPn3K-e8msiNRO_hR9O3oWhdcok"><meta data-rh="true" property="og:title" content="仿拼多多现金大转盘，H5 抽奖转盘如何实现？ | 小霖家的混江龙"><meta data-rh="true" name="description" content="电商应用中我们常常看到抽奖转盘活动，比如拼多多的「抽奖大转盘」：点击中央的抽奖按钮，转盘开始旋转，一段时间后指针停止在奖品上。"><meta data-rh="true" property="og:description" content="电商应用中我们常常看到抽奖转盘活动，比如拼多多的「抽奖大转盘」：点击中央的抽奖按钮，转盘开始旋转，一段时间后指针停止在奖品上。"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-04-17T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="H5"><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://lijunlin2022.github.io/blog/2024/04/17/lottery-turntable"><link data-rh="true" rel="alternate" href="https://lijunlin2022.github.io/blog/2024/04/17/lottery-turntable" hreflang="en"><link data-rh="true" rel="alternate" href="https://lijunlin2022.github.io/blog/2024/04/17/lottery-turntable" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="小霖家的混江龙 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="小霖家的混江龙 Atom Feed">




<link rel="alternate" type="application/rss+xml" href="/official-accounts/rss.xml" title="小霖家的混江龙 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/official-accounts/atom.xml" title="小霖家的混江龙 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.e067b9d0.css">
<script src="/assets/js/runtime~main.35889024.js" defer="defer"></script>
<script src="/assets/js/main.d983b5ac.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">小霖家的混江龙</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">技术博客</a><a class="navbar__item navbar__link" href="/docs/html/layout-visual-and-ideal-viewport">技术笔记</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lijunlin2022" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/07/31/race-conditions">从快速切换 Tab 说起，先发出的请求后得到结果（请求竞态问题）如何解决？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/07/15/canvas-fill-text">从商品海报说起，canvas 文本如何实现溢出截断、溢出显示省略号和自动换行？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/07/11/canvas-image">从拼多多分享商品说起，canvas 绘图如何实现 contain 和 cover 效果？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/05/26/loop-notice">仿今日头条，H5 循环播放的通知栏如何实现？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/05/17/reversible-card">仿微信读书，H5 翻转卡片如何实现？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/05/07/springback">仿物美超市，H5 列表滚动回弹效果如何实现？</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2024/04/17/lottery-turntable">仿拼多多现金大转盘，H5 抽奖转盘如何实现？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/04/08/waterfall-flow">对比小红书与电商三巨头的瀑布流，H5 瀑布流实现方案应该如何选择？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/03/23/ten-billion-subsidy-load-img">仿百亿补贴，H5 中图片先模糊后清晰的效果如何实现？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/03/10/is-webp-supported">H5、小程序能用 webp 图片吗？如何判断环境是否支持？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/03/03/ten-billion-subsidy">百亿补贴为什么用 H5？H5 未来会如何发展？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/03/02/pull-up">H5 上滑加载（触底加载）如何实现？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/02/28/pull-down">H5 下拉刷新如何实现？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/02/19/reverse-border-radius">H5、小程序中四个反向圆角的图片如何实现？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/02/16/variable-height-swiper">H5、小程序高度变化的轮播图如何实现？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/02/09/dragon-troubles-the-sea">H5 蛟龙闹海动画如何实现（不引用图片）？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/02/03/parabolic-animation">H5、小程序商品加入购物车的抛物线动画如何实现？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/01/27/offline-package-rollback">H5 离线包放入 HTML 后降级方案如何设计？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/01/18/remainder-and-modulo">取余和取模如何区分与应用？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/12/14/loop-swiper">H5 不复制元素的循环轮播图如何实现？——取模</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/30/tab-scroll-to-center">H5、小程序 Tab 如何滚动居中？</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">仿拼多多现金大转盘，H5 抽奖转盘如何实现？</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-04-17T00:00:00.000Z">April 17, 2024</time> · <!-- -->12 min read</div></header><div id="__blog-post-container" class="markdown"><p>电商应用中我们常常看到抽奖转盘活动，比如拼多多的「抽奖大转盘」：点击中央的抽奖按钮，转盘开始旋转，一段时间后指针停止在奖品上。</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pdd-e4f1f45453508c0e0e0b79c84220fc29.gif" width="360" height="314" class="img_ev3q"></p>
<p>这个效果如果用 H5 应该怎么实现呢？</p>
<p>本文我会先说明如何实现转盘布局，再介绍如何让转盘旋转，接着解释如何控制中奖概率，最后给出完整的代码，并做一个总结。最终效果如下：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/lottery-turntable-7e2b90447235212ae0bf9dc9cba8e063.gif" width="360" height="314" class="img_ev3q"></p>
<p>拳打 H5，脚踢小程序。我是「小霖家的混江龙」，关注我，带你了解更多实用的 H5、小程序武学。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="css-旋转相关的语法">CSS 旋转相关的语法<a class="hash-link" aria-label="Direct link to CSS 旋转相关的语法" title="Direct link to CSS 旋转相关的语法" href="/blog/2024/04/17/lottery-turntable#css-旋转相关的语法">​</a></h2>
<p>实现转盘布局之前，我们先来复习 CSS 与旋转有关的语法。</p>
<ul>
<li><code>transform</code> 的 <code>rotate()</code> 函数可以控制旋转角度。比如 <code>transform: rotate(60deg);</code> 是顺时针旋转 60 度，<code>transform: rotate(-60deg);</code> 是逆时针旋转 60 度。</li>
<li><code>transform-origin</code> 可以控制旋转中心。比如 <code>transform-origin: right bottom;</code> 是以元素右下角为旋转中心。</li>
</ul>
<p>举个例子，下面代码中 item0 和 item1 两个矩形以自己的右下角为中心，逆时针旋转了 0 度和 60 度。</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">style</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">  </span><span class="token style language-css selector class">.item0</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    ...</span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">transform-origin</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> right bottom</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">transform</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> </span><span class="token style language-css function" style="color:rgb(0, 0, 255)">rotate</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css number" style="color:rgb(9, 134, 88)">-0</span><span class="token style language-css unit">deg</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">  </span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">  </span><span class="token style language-css selector class">.item1</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    ...</span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">transform-origin</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> right bottom</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">transform</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> </span><span class="token style language-css function" style="color:rgb(0, 0, 255)">rotate</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css number" style="color:rgb(9, 134, 88)">-60</span><span class="token style language-css unit">deg</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">  </span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">style</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">box</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item0</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item1</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="360" height="300" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="转盘的布局">转盘的布局<a class="hash-link" aria-label="Direct link to 转盘的布局" title="Direct link to 转盘的布局" href="/blog/2024/04/17/lottery-turntable#转盘的布局">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="有问题的思路">有问题的思路<a class="hash-link" aria-label="Direct link to 有问题的思路" title="Direct link to 有问题的思路" href="/blog/2024/04/17/lottery-turntable#有问题的思路">​</a></h3>
<p>复习完语法，你可能会想 6 个矩形围着自己右下角旋转，似乎能实现转盘布局。</p>
<p>代码如下，其中 <code>--i</code> 和 <code>--clr</code> 是 CSS 的变量，方便我们计算角度、获取颜色。</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">style</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">  </span><span class="token style language-css selector">...</span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css selector">  </span><span class="token style language-css selector class">.item</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    ...</span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">background-color</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> </span><span class="token style language-css function" style="color:rgb(0, 0, 255)">var</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">transform-origin</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> right bottom</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">transform</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> </span><span class="token style language-css function" style="color:rgb(0, 0, 255)">rotate</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css function" style="color:rgb(0, 0, 255)">calc</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css number" style="color:rgb(9, 134, 88)">60</span><span class="token style language-css unit">deg</span><span class="token style language-css"> </span><span class="token style language-css operator" style="color:rgb(0, 0, 0)">*</span><span class="token style language-css"> </span><span class="token style language-css function" style="color:rgb(0, 0, 255)">var</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">  </span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">style</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">box</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">0</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#ff7875</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">-1</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#ff9c6e</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">-2</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#ffc069</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">-3</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#d3f261</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">-4</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#95de64</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">-5</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#5cdbd3</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>但这种思路是有问题的，如图所示，6 个矩形依次逆时针旋转，会导致第 5 个矩形覆盖在第 0 个矩形上，无法实现转盘布局。</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAFoCAIAAAD1h/aCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AACAASURBVHic7d15cBxXfh/wX/ecGMwMBoNjcM+QBO8DBClQ1Iq6bw3JXXCzsivebGxv7Nixy6nyujaW4ihx2a6NK7Wb2EltOYkdc23uqdVA0koidV+kROgACN43CQIggAHQuAfAYKY7f4CkeODqQXe/193fzx8uLzno/hVEfPH69fu9JyiKQgAAaoisCwAA80FwAIBqCA4AUA3BAQCqITgAQDUEBwCohuAAANUQHACgGoIDAFRDcACAaggOAFANwQEAqiE4AEA1BAcAqIbgAADVEBwAoBqCAwBUQ3AAgGoIDgBQDcEBAKohOIBHfdNp1iXAfBAcwJ0mKfmd9rP9yA6OCTgeAfhxaHQoISWT02kiui8Q+t1IFeuKYHZO1gUAEBGdm0wlpOTx1NiNP/lodGhHsHBdXj7DqmAuCA5gbCibaZKS7w5Ld/5VQupdV7nc+JJgQXhUAZZeG+xPSMm0Is/1gW+XVj4YLDSyJFgMjDiAjc/GRhJSsjM9Of/HElJyRyDkFARjqoJFwogDjHZ5aqJJSraMjy7y87sKS54piuhaEqiF4ADjpORsk5Q8MDSg9gv/umZlhdujR0mQGwQHGOSt4YGElBzLZnP42rv9BX9YVq15SZAzzHGA7o6MjzZJyYtTEzlfoXlseMd4aHN+QMOqYCkQHKCjq+mpJil5eGx46ZdKSEkEBz/wqAK6yChKk5R8ZbBPw2v+q5LyxwuKNLwg5AzBAdp7f2SwSUpKmWltL5svOn4QW+UTHdpeFnKA4AAtnZwYb5KSpyfGdbr+E6GibxaX63RxWDwEB2ijPzPdJCU/HBnU+0Z/Ub0i5snT+y4wPwQHaOAlKdkkJedcN66p+vzAH5dHDbkVzAlvVWBJPh4dapKSPQbundE6Pvrp2PA2f4Fhd4Q7ITggR+cnUwkpeeymRnjDJKQkgoMtPKqAaiPZTEJKvjNbI7xhfq0osrOwhGEBNofgAHVeH+pvkpKTsjETGnNyCcIPoqtDTgyZ2UBwwGJ9Pj6SkJIdUws0whvmoWD4t0srWFdhUwhsWNiVqcmElPxifIR1Ibd4b0TaEQyt8vpYF2JHGHHAfCZlOSEl9w/1sy5kdut9/j+tiLGuwo4w4oA5vT0sJaTkaDbDupA5nUiNHRwd2hEIsS7EdhAcMIujqbGElLwwmWJdyMJm9hZkXYXt4FEFbtEzPZWQkp+MatAIb5jGcOmecCnrKuwFwQHXyIqSkJIva9oIb5jvR1eVutysq7ARBAcQEX04MpiQkgNaN8Ib5t5A6Pdw7JuBMMdhd6cnxhNS8pRujfDGODQ6tCMQ2uDzsy7ELhAc9iVlphNS8gP9G+GNkZCSCA7D4FHFpl4Z7EtIyay1/uv/VknFwwVh1lXYAoLDdg6PDSekZHd6inUh2itwOH8QW+UWRNaFWB+Cw0YuTk4kpGRbarFHqJlRvLD414vKWFdhfQgOWxjLZhNS8q1h1UeomdH3amqr3F7WVVgcgsP6Dgz1J6TkBOtGeMM0+IN/VFbDugqLw1sVK2sZH0lIyXZuGuGN8dnYSMv46Bac3qQnBIc1daYnE1LyszG+GuENk5B6ERy6wqOK1UwpcpOUfG2Q00Z4w/xGcfmTIRz7phcEh6W8OywlpOQwx43whvGJju9HV/kdOPZNFwgOizieGktIyXNmaIQ3zGMFRd8qwbFvusAch+n1TqebpOSh0SHWhXDnreGBHcHQchz7pgNrjTie/S7rCgylEDVt2dxUv4l1Ifyq8wX+pALHvmkPIw6z+mjliqb6ur4A2rrm05YaPTw2vB2nN2kNwWE+ZyKlTVvqTlTg6X1RmqQkgkNzCA4zGfT5mrbUvbd6JetCzORqeuqVwb7dOPZNUwgO0/jVpg1NW+qm8X5RvSYpuSMQCjtdrAuxDgSHCTQvizVtqesKYbydo4yiJKTkvymtZF2IdSA4uHapuKipvq61BrtpLtUHI4M7AqE1efmsC7EIBAenxj3uRH3dm+vXsi7EOpqk5LOVy1hXYREIDh69sX5tU33duAf7/Wvp5MT4hyOD9wcLWRdiBQgOvrTWVDXV110qRneWLpqk5I5gIXYWXDoEBy+6QqHElrpPl2GZo476M9NNUu/XwxHWhZgegoO9aYcjsaXu1U0bWBdiCy9JffcGCstw7NvSIDgYe2/1yqYtdYM+H+tCbKRJSv4+jn1bGgQHMycqyhNb6s5GcFqy0T4eHbo3ENqE05uWAMHBQF/An6ivO7hyBetC7KtJSiI4lgLBYbRkMPAn32i00F4GpnR+MvXOsPQIjn3LFd5MGa10ZPRrrW2sqwBKSMlJ2xwZoTkEBwONLW0lo2Osq7C7kWymSUqyrsKsEBwMCER7MOjgwOtD/R02O3RGKwgONnacu7D+ajfrKoASGHTkBMHBzJ4WDDrY+3x85Itxmx5btRQIDmZW9SYfOn2WdRWAQUcuEBwsNbYedWezrKuwuytTk/uH7H7wnVoIDpYKU6lGPLBwICElR3H8nRoIDsZ2Hj1eOYizlBiblGU8sKiC4GAPr2Z58PawdAEHaC4agoO9bZfa6690sq4CMEuqAoKDC40YdHDgaGrsk9Fh1lWYA4KDC8v6B544cYp1FUAJqZd1CeaA4OBFY2tb/tQU6yrsrmc6/Yv+dtZVmACCgxf5U+k9rUdZVwH06tDI+9IbrKvgHYKDI4+fOLWsf4B1FXankPCrweGfdP7ZubFPWdfCLwQHX7AejAdJZd2VtOutvv/7as/f9E5dZF0OjxAcfKnv6Lz70mXWVQB1KNuJ6MrE8Revfu/DgZ9MZEdZV8QXBAd3MOjgwYhSmVTWz/z/x0fe29f53JHhN9mWxBUEB3cqh4Z3tR1nXQVQh7xduf4DMi1Pfiy98POuP7+UamVbFScQHDxqbG0rTGH5M2Np8nfI22/+k4F05/7eHx7o/eFA2u4rfREcPHJls3hg4UGX0jBBtx9SfTHV+vOuP/9YemFatu+6GwQHpx46c251D1on2Ou8ddBxw5HhN/d1Pnt85H1jy+EFgoNfaGDhQb+yakiJzfpXE9nRDwd+/OLV712ZOGFsUewhOPi1/mr3fecusK4Crr2anUvv1MVXe/7H231/PzxtoxEigoNrja1tgoJT3xgbUyI9St38nzk71vzjzv/46eDLCtnikCcEB9dKRsewzQ8POuTtWXIv+LHPh17d1/Hc6bGPDSiJLQQH777WejQygmWLjGXI2zHHLOltRjMD7/b948vd3786aeUt7BEcJoBZUh50K/XjSskiP9w1efql7v/2Xv+PxjKDulbFCoLDBO49f3Fj11XWVQB1zjtLeqdTowf3dT7bMvS6TvUwhOAwB6wH44GkLB9QalV9iaxkDw82/bTzP50f/0ynqphAcJjDymTfIzj2jQNqBx0zBqd73kz+n9d6/zY5dVnrithAcJhGY0ubJ4NDgxhLKUVXla25fW176tgvr/7VRwM/nZTHta3KeAgO0yiYmMADCw865O3T5Mv5y4+NvLuv49m24bc1LMl4CA4ziR87US1Zc5beRGRyLvLV7FzS8sQh6ee/6PqLyymz/iZAcJgMXs3yoFfZOKqUL/Ei/ekrr/f+rzeSfyeluzSpykgIDpNpuHxla3sH6yogx1nSO10Y/+JnXf/lE+nFjJLW5ILGQHCYDwYdPBhSavqUNVpdrXX4wL6O506MfqDVBfWG4DCf6ID05PGTrKuAObfqyE0qO/xB/75E93/tmDDBf1wbB4fLxF2ne1rbApP23X6KE5NU0Kncre01eyYv/Krnv7/T9w8jmT5tr6wtuwaHS6FomsJmXRaRl57GAwsPOuTtUxTU/LJnxg7v63jus8FXNL+yVuwaHOHstf8bTVMgy7qaXDx28vSKvn7WVdhaiXCq3rHXQyM6Xf+zoV/t63j2zNgnOl1/KWwZHHnyl2HhUiiSoYpp8ppv/xUMOlgJCFfXiYla8U0vDet6o5FM/zt9/++Vnh90T57X9UZqOVkXwELRHUMMn0w+mUYcJDkoI7CoKRd1HV3bL146vHwZ60JsxE3jVeLhiGDowTedE6c6J06tC9y/rXC3z1Fg5K3nYr8RRzA75+AimKVomgrN9OSypwUH3BunUvi83rHX4NS44eToh//c8Wzr8AEmd7+NzYJDuD67Mc8HijJUkya/OZ5cyoeHdx85xroK6ysSztWJ+2rEQyKxnFDPKtOfSC/+rPM/Xxj/gmEZRCQoVtoL99nvLvCBooyKAcW4SJKTpnh/csmK4neeaRzIz2ddiDXlC8lq4XChcIl1IbeL+eoaQrtKPFEmd7fTiMOtqHsMyZepOk3FGc6/SQ5ZRtesHpw0FRM/2CT+lMPUIKLLqbYXrv7lwYGfTckMTgvl+2dCW7mt2ghlKTpFIa4nPh44e35Ndy/rKiylXDhS79hbLhxhXcgCjo68s6/juaMj7xh8X9sER76c+7SFg6g4Q9Vpyud34gOnKGilULi0UfxZTPzASZOsa1mUKXn84MDPXrj6l+0p42bKbRMcS18k6lGofJrKpsnN46zQ2u6e+8/y9arfdPJIWiW+vkZ8xS+Yb/jWN9X+Wu//fDP5vwenuw24nT3WcYSy5NHop90vkz9Ngw6SnMRZgOxpbTtUuzwr2uaXgXZEylaJhyuFz1kXslTnxz8/P/75ltBTDaHdDkHHn24b/CMTtRhu3KYwS9E0Bfma+CgaG29sxbIO1UqF4/WOvRZIjRtahvbv63j25OhH+t3CBq9jizM6Tm1OiCQ5aIKj/P3uv/had4H2bVeWVCB0VAnNQcF8G3AtUrl3ZUNod1WeZvuG3MDRv3hdeBR9X4jkyVQ5TZEMP036aGBZDA+N1IpvrhMTFk4NIuqePPdKz/ff7fvH0cyAtle2enAY0zgfyFI0vcCaVKPcc+HSpk4r/zAsXZXQvMWxt0Q4xboQg5we+3hfx7MjGS17qS09OeqXDX2BGs5QIEuSg0Ydxt10Nnta2o5WVbKtgU/FwulqsdlLQ6wLMdpdhbuCzmINL2jpEYfx+/Tw0aS/oq//0VNnGBbAoYDQvVZ8aaX4hg1TI+gsaQjt0vaa1h1xFGaZLbiYadIfdpDkoCybVpfGlrZDtcsnXC4md+eKi1LV4uGIYN9WwIbC3Zpf06IjDqfCflvAgixF06zWqgcnJ9HAQkQVwhdbHHvtnBrVeetW+7XcVHmGRYMjnCUemlpFomJmTfpPHT9ZI0nG35cTYeF8nfjjqHhQpGnWtbCk+UPKDCsGR57M19Ist0Jl01Q+rdnq1UWz5zY/+ULfavHV1eJrPsHue7KuDzxQ5q3V48pWnOPg47Xo7fJlyk/TkIMkJxk1/tjafuWuy1c+j9UYdD/WHJSuFg+XC62sC+GCU3A3FOoy3CALBkcgS3n89rBSKEsBmSQHDRv0ynZPa5tNgqNMaKsSm100wboQXjQU7tJvg1LLParwOdy4mUOhkgxVpclnRMBVS4NPHzthwI0YCgmXN4o/Xya+j9S4IeyurC94Ur/rWys4whwt/V6AV6EKg5r0G1vbghPm2FpCrTwaXCkeWCu+7Bd6WNfCF53mRG+wUHCM9JtguHEbv0w1aSrK6PoOyDudsd42PwLJNeLHmx3/VCxgqdvtYr66Fflbdb2FhYKjdT/rCnKlf5P+I6fO1Ca5PotUlVLhRL1jb6XwGetCOKXHiq/bWCU4uk7TeTPvp+BUqDRDldP6zexaY9ARFDrXiy+uEN/20CjrWjhVV/BoiVv36XCrBEcLF6fULNVMk35phpzaT3xs7Lz6lQs87ta9SB4aXSG+vV58MSh0sq6FX14xvyGk+3CDLBIcpw9R0sQ/ErfT7UA58y5CrxI+rXfsLRUs/npo6RoKd7vFPANuZP7gyKSpxbSzG3OZOVAumqaAlk8uZSMjXztisrWkxcKZzY5/qhY/EQxbNmdapZ7YxuDDxtzL/MHRcoAmLPq461IoMq1tk35jS1vx2JhWV9OVX+hZK768UjyQR4OsazEHYx5SZpg8OAa76ZjRR9EYzSdT1TSVZMihwcSHqCh7uH9gcdHEMvG9jeLPQ8Jl1rWYRm1+Q9S30bDbmTw4rPeQMhftmvTvO3dh3VV+l0uVCy31jr1lgskeqZgz4BXszczcq9J+jC7z/stTSzNN+oEsSU4aX1LiN7a2nawo06ourYSFC1VCc75gnfUmhtkSerrQZeh/UDOPOFot8QpWrRsHyi2hSX9NT++DZ85pWNQS+YT+1eJrq8VXkRo58DsL9V5gfifTBsfx92nAxu/z/TJVp6k4k/N/wMbWNmeW/XsKB01HxY/qxB+HBZxfmSO9D22blTmDY3LcxAvMNRTKUjRNBblMfITHU8zXkkaEo/WOvRVCC9syTK3Cu2ptYIfx9zVncLTup7Q12z1Vu9akP51Dk/6utmMVQ8N6FLWgkNC+QfzFcvE9F6WYFGAZ+m3VMz8TBkdfO53U8VBMU/LKVDFNkWm1uwoYf+ybl4ZWim+sFV8KCEYcqm5ta/z3Vnq1P95xMUwYHPacE12MgEzRtKrt3bdfvLy5w6CpIoGUavGTesePioXTxtzR2gQSWQ03yHyvYy+2UMdJ1kXwLZyloEySg0YWtTthY2vbkeoqvYsqEU5Wi80eGtH7RvbRULgr4CxidXezjTjss+JrKdQ06S/vG3j8pI5DgKDQtU5M1IpvITU0VOAqvSu0k2EBpgqOtrdoOMm6CPNYdJN+Y0ubL53W/P5uGlshvrNe/GWB0KH5xW3OyLaUWZknOMaHMNzIxSKa9P1TU5p33FcKn9U79pYKx7W9LBBRTd76Vf672dZgnuBo2U+y2bYU5cRMk/68B8o9eeJUbECbY9+KhLObHf9cI34sEv576cLgtpRZmSQ4es7T2cOsizC5hQ6UW/qgwy/0rhFfWSXuzyP7Hj2ptw3BByOe5ayrMMtbFWvsDMiDmQPlhh0kOSh7y97qW650bLvU/umyaA5XddJktdhcJhzRqEqYnUv0MJ/dmGGG4DjbTN0cdWRZQUH2Wpft0C2vbBtb23IIjnKhtUpsdtKUdvXB7BpCu/McAdZVEJngUUWR0Zaii5km/eo05X858VE1OLTzqIrpzELh4ibxpzHxQ6SGAYrcVZsLHmddxTXcB0fLfhrDznG6udGkf/1AucbWo6HUwgcp+oSBVeLra8Rf5Qt4QW4QTh5SZvAdHMNJOvIm6yJs4KYD5dyZzPwNLCJlouKhOnFfkYDnR+Ms89Uvz69nXcWX+J7jQFuKkQqzFJBp0PHw6bOHapefjZTe+ZGIcKxKbHbTuPHV2RzDtpRZcTzi6DxFF75gXYTNOK816TeevP39SIFwZYP4wnLxXaSG8TYXPF7srmZdxS04HnFgnSgrXnkDte/oPH+wqpaIvDRcJTaXCKdYl2VTeY6A8TsDLojX4Dh1kPraWRdha4+lPz1ItVVic7WApXcsNYR2uUQv6ypux2VwTE9huMFSQKawvNw19JuF/zA0Ndo7JSz8JaCPiGf5huBDrKuYBZfB0bKfJs1x2pjVeBUKZ8l37dVsxD0ccVOpV2hPCSPTiA8GeJsTvYG/4JC66Ph7rIuwH+f1HYDuUOhSCguU7kmhPSWm2e+LbiMr/dtq8jawrmJ2/AUH2lKMVyhTOEvzDinKvUrEk21PiR0TGHoYhKsVX7fhLDguH6V2nP1nIL9MYfnGstH5iQIty5dnnlz6MfGhs62heMgVYV3FnDgLDrSlGMajUFi+uVFlkfIdyrqAMuAR2lPCWAbxoYuAM8zDphvz4Ck4jr1L0lXWRdiASBTOUmhJ0xVFbqXIrXRNCO0pMZP7WZQwu4bQbpHnxZkcBcfEGBaYG6FApnCWFrX/+cIq85RSb/ZKSuzCxId2Kr2r1wTuZV3FArgJjtb9NI3WbD3lKxTOLuWo6lm5BFqRL5d6hPaUIKURHxrg/CFlBh/BkbxMpw6yLsK63AqF5Xk2HF26gFPZEFT6poT2lJjCTqNLsDawo8K7inUVC+MjOPCQohOBKJylQoNWX5R4lBJPtmNCaE+JMiY+1BMFB8+vYG/GQXBc+II60UClg6BMYXnBQ1U0V52nlHqy7SmxZxJPLuo0hHb7nYWsq1gUDoIDbSmay1MonKU8Zr/0PSKt8ssRj9CeEoawVn1xQq6yraGnWVexWKyD48gbNNLHuAYrcSoUlmddOW68ApeyqUDpnRTaU+IkFxVxzRRzojcwDY4xCQvMtRSWKczdzGTEq5R6s+0p8UoKQ485RX0bV+Y3sK5CBabB0XKAFPwm0kJAprBMLk4nJAWimE+OeKg9JSaxVn02HG7VMz92wdF9js41M7u7ZdzaCM+zPAetCVyb+BjBWvWbbAw+XOpZxroKddgFB+ZEl8hBFM5SgcmGbIVupdCtXJ0U2lPitMlq14VbzDPdcIOYBceZT6jnAptbW0NIpnCW726G+VRcb9LvtP1a9YbQLq/Dz7oK1VgEh5zFiq/cqWmE55lDoOX5155c+u26Vr3YXVNX8BjrKnLBIjha9tP4EIP7ml2ujfA8y3cq64JKf1q4YssmfW53BlyQ4cEx1Ettbxl9U7PTohGeZ8VupditdE4I7Skxa/qx1GItz9+yzLeZdRU5Mjw48JCilqaN8Dyryrs28XHVHmvVzdKWMitjg6PjJF1sMfSOpuZTKJwlr21+BRO5RKr1yxGv9Zv06wueKHJXsq4id8YGB3YGXCSXQmGZApZ9NpnfTJN+ckpoT4kT3C2F1YDPETTXAvM7GRgcJz+kvivG3c6kjG2E51mpRyn1ZK+khPaUaLFBV0PhbqfgZl3FkhgVHOkJtKUsjFEjPM9qfErEa6km/TLPivWBB1hXsVRGBUfrAZrCKedzY90Iz7OZJv2Z3QmHzd+kb/aHlBmGBMdAJx1/34gbmRFPjfA8C7mUUIHSMym0p8Qp0363Vvm3V+etY12FBgwJDrSlzGURR6jBzcq8155cTNqkb+pXsDfTPzguH6Erx3W/i+lYZeW48Waa9Es91J4S+0zVpB/1KQWuEtZVaEP/4MCc6G3M0wjPM5+D1l5v0h81w1p1r4OiPtM+Yt1B5+A4+g4Ndut7CxMxZyM8z8JuJWySJn0rpQbpGxwTI1jx9SWTN8LzrMI7s+KD3yb9kEuJaH0UFlt6BkfLAcpM63h9s8iXKSxrfoQa3Mwp0PLrB8oN8LdWPWq5J1PdgqP3Ep0+pNfFzUL/I9TgZn6nsj6o9KeF9pQwzs3ER7lXKeB1O9ic6RYcNn9IsXojPM+4atIXBavNbszQJzjOf0ZdZ3S5sinYphGeZ1XXD5TrZrpWPeqT3Vac2NInOGz7CtZ+jfA8c4u08vqBcoMs1qr7HFRt0TYCHYKj9QCN9mt/Wc7ZuxGeZ0GXsrGATZO+JR9SZmgdHKMDdtzjK5ylsGX/iVjDTJN+e0poTxn05BB2KyXWfZWm9TcxUETPPE8rt2l8WW4FZIpmkBpmEfUp2wqzxiypiFnuFezNdEhff5ju/w166g+obIX2F+dHnkKVGYpkuT14EWblddDqgLypQNb1FWllnuK39L4qur2OrVhFFavozCfUsp9Sw3rdhQk0wpvfTJN+96RwRYcmfadFX8HeTOdeldX3UG0Dte6ntrf1vZFh0AhvIeXXD5Tr0HStetQnO63+L0T/7liHk+7aRbXbqGU/XWrV/Xb6QSO8FYkCLcuXI17NmvT9TqXSoq9gb2bU2pRQhB7+TXr8d6m42qA7asijUHmGyrJIDauaadLfEJQDS56YsF5byqyMPR6hej1Vr6cTH1LrfppKGXrr3KAR3k5mmvS7JoT2lJjJ6ce/xKMU2eO3C4uzY9ffTysbqGU/nfiAwd0XD43wtlSZd213wi71Ex+WnxO9gUVwEJE7j7bvodoGaj3A48aCaIS3N6dAK/KvrVVffJN+dZ7is02DEtPfp8XV9Njv0MO/RaEylmXczK1QWZbKs0gN8DuV9UF5bUD2ORb+x+AWbTTcIGYjjpst20zLNtPRt6nlAGXZbfyDI9RgNiUepcSjdEwI7SlRnjtAoj5ZtPor2JtxEBwzNj1KtduodT+d/pjB3XGEGsyrOu/aio9Zm/QLXEq5zVqieZr68wXp3l+jnf+eKlYZeFOFqjJUmkVqwPxmmvTrCuTQHWvVbfIK9mY8BceMyHJ66g/ogW9SoEjfG7kUimSpIoPtM2DxClzKpgJ5dUD2Xp8HjXiUO6PE8rh5VLlNbQPVNlDLfr2a9F0KRTO6XBlsIOK59uTSnhJsNSd6A6/BMWPLU7SygVoO0PnPNL7ytECSg8LG7usC1hL1yaUe8trmFezN+HtUuU2gmB74Jj357yiyTOMrSyKZ/+hzYCvPlqlBvI84bqhcTZWr6fQhajlAEyOaXVYSKYJBB4Bq3I84brbmXnrmedr0iGYXHBXJnIeeA7BlquAgIqeLGnbTnj+lWJ02F5TsOtYEWAKzBceMwnJ65Lfpsd+hoqqlXmpSoGFzfhMA2DHJHMesajZQzQY6/j617qf0ZO7XkRwUlLGpF8Dimf+X7YYH6Znnad39uV8hiwcWAHXMHxxE5Mmne75OX/0OVa/L8QqDIvF3xDkAtywRHDOKa+jxf0sP/WsKRXL5cslC3woAnVnup2X5Fvr6c3TXThJVPn2MiTRuue8GgD4s+qNS9xg98zytvkfdV2HQAbA41v1RyQ/Rjl+n+B9R+crFfsmUQEPW/YYAaMfqPydlK+jpP6T7/yX5w4v6vOQgrEEHWIjVg2PGyrvpmedp8xMLf1LGq1mAhdkjOIhIEGjr0/SNP6MVWxf45LBIs20PBwA32CY4ZgRL6MFv0RO/T6Wx+T6GQQfAvMy85DxnVWuoag2dOkgt+2lybJYPpAQaE8lvx52dABbDZiOOm63dQc88Txsfnv1v8WoWYG72/vFweWjbV6nxP1B00+1/lRZo0N7fHIC54WeDKFxBj36bHv02hStv+XPJQRnMkgLMV8JxXwAABghJREFUAsFxXXQTNX6X7v4auTzX/kTBAwvA7PCDcasND9Ezz9PaHdf+54hI6o8sB7A8BMcdvH76yjdo9x9T1VoivJoFmAWCYw4lUXri9+jBb5G7lEbwXQK4hS3XcSzeiq20Yiu1vEyjb7AuBYAj+F26CFu+ShWPsi4CgCMIjsVZuYfySlkXAcALBMeixeKsKwDgBYJj0UobKJzrZsgA1oLgUCOKQQcAEYJDneAyqljCAS4AVoHgUCm2kxyehT8GYGkIDpVcfortZF0EAGMIDvWqHiF/5cIfA7AuBEdOohh0gK0hOHJSXEfFm1kXAcAMgiNXWA8GNobgyFV+JVWhgQVsCsGxBLE4uQKsiwBgAMGxBA4PHljAnhAcS1NxPwWXsS4CwGgIjiVDAwvYD4JjycLrqLSBdREAhkJwaAEzHWAzCA4t5JVS9CnWRQAYB8GhkWicvGHWRQAYBMGhEUHELCnYB4JDO2X3UGgV6yIAjIDg0BS26gB7QHBoqqCWyr/CuggA3SE4tBbdSQKOmwWLQ3BozRPCAwtYHoJDBzVPkK+MdREAOkJw6AOvZsHSEBz6KN1K4Q2siwDQi6AoCusaLGq0nVr+mnURXIpso2ic8kpY1wG5Q3Do6fwvqOt91kXwJLicYnEqXMu6DlgqJ+sCLC0ap95mykywroMD7iBF41RxH+s6QBsYceis81268EvWRbBW/RhF4+Rws64DNIMRh86qHqbeZhrrYF0HI8X1FItTfgXrOkBjGHHob+AoHf871kUYzl9NsTgVbWJdB+gCIw79FW2iknrqa2Vdh1GcXorupKqHWdcBOkJwGCIat0twVD5A0Z3kymddB+gLjypGudhEHW+xLkJP4fUUi1MgxroOMAJGHEaJ7aTeZkqPsK5DB74IReNUehfrOsA4GHEYqPsjOvtT1kVoSnBQLE41T7KuA4yGEYeByu+jnmYauci6Do2UfYVicfIUsq4DGMCIw1iDp+no37IuYslCqygap9BK1nUAMxhxGKtwDUW2Ue+nrOvIlSdMsTiV3cO6DmAMwWG46E6zBkf0KYrGScBWDIBHFSYuv0btr7EuQo3SBorFKa+UdR3ACwQHI83P02Q/6yIWIbiMonEKr2NdB/AFwcFIbzOd/hHrIubl8lMsThUPsK4DeIQ5DkYid1NvMw2eZl3HHKoeoVicHF7WdQCnEBzsROM8BkdxHUXj5K9iXQdwDY8qTJ39CXUfZF3EdfmVFItT8WbWdYAJYMTBVCxOvc0kTzMuw+GhaJyqH2VcBpgHRhysdbxJF19iWUDF/RSLkyvAsgYwG4w4WKt+nHqaKdXN4NbhdRSNU3AZg1uDyWHEwYG+Fjr594beMa+UYnEqbTD0pmAhGHFwoGQLFW2kgWNG3EsQKRqn6FNG3AusC8HBh1jciOAou4eicfKGdb8RWB0eVbhx/gXqek+vixfUUmwnhVbpdX2wGYw4uDGzt2AmpfFlPSGKxqn8Xo0vC/aGEQdPut6j8y9oecGaJygaJxG/HkBj+CfFk8qHqLeZRq9ocKnSrRSNk69Mg0sB3AEjDs4MHKfjP1zSFQJRisUpvEGjggBmgREHZ4o2UMlW6vsil6915VM0TpUPalwSwB0QHPyJxXMJjqqHKRonZ54OBQHcDo8qXLr0Ml15Y7EfLtpEsTj5q/UsCOAWGHFwKRqn3maaGlrgY/kVFI1TSb0hNQF8CSMOXnUforM/nvNvRTfF4lT9mIEFAXwJIw5eld9Lvc00fH62v7qPYnFyBw2vCeAajDg4NnSG2v7mlj8pXEOxnRRczqgggGsw4uBYaDVFtlPvYSKivGKKxilyN+uaAIgQHLyb2Vsw9jRF46xLAfgSHlW4N9lP3mLWRQDcAsEBAKrhAGEAUA3BAQCqITgAQDUEBwCohuAAANUQHACgGoIDAFRDcACAaggOAFANwQEAqiE4AEA1BAcAqIbgAADVEBwAoBqCAwBUQ3AAgGoIDgBQDcEBAKohOABANQQHAKiG4AAA1RAcAKAaggMAVENwAIBqCA4AUA3BAQCqITgAQDUEBwCohuAAANX+PzyZ9QRZo801AAAAAElFTkSuQmCC" width="360" height="360" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="正确的思路">正确的思路<a class="hash-link" aria-label="Direct link to 正确的思路" title="Direct link to 正确的思路" href="/blog/2024/04/17/lottery-turntable#正确的思路">​</a></h3>
<p>6 个矩形依次逆时针旋转的思路虽然有问题，但也能给我们一些启发。</p>
<p>我们把 6 个矩形拆成左、右两部分：</p>
<ul>
<li>左边是 3 个矩形，以矩形右下角为中心逆时针旋转 0 度、60 度和 120 度，再加上 <code>overflow: hidden;</code> 就得到左半圆。</li>
<li>右边是 3 个矩形，以矩形左下角为中心顺时针旋转 0 度、60 度和 120 度，再加上 <code>overflow: hidden;</code> 就得到右半圆。</li>
<li>拼接左右两个半圆，就得到一个完整的转盘。</li>
</ul>
<p><img decoding="async" loading="lazy" src="/assets/images/rect-to-circle-42f6931d8a45223467c17a451dcbf803.png" width="930" height="390" class="img_ev3q"></p>
<p>关键代码如下：</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">style</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">  </span><span class="token style language-css selector class">.left</span><span class="token style language-css selector"> </span><span class="token style language-css selector class">.item</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    ...</span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">background-color</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> </span><span class="token style language-css function" style="color:rgb(0, 0, 255)">var</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">transform-origin</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> right bottom</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">transform</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> </span><span class="token style language-css function" style="color:rgb(0, 0, 255)">rotate</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css function" style="color:rgb(0, 0, 255)">calc</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css number" style="color:rgb(9, 134, 88)">60</span><span class="token style language-css unit">deg</span><span class="token style language-css"> </span><span class="token style language-css operator" style="color:rgb(0, 0, 0)">*</span><span class="token style language-css"> </span><span class="token style language-css function" style="color:rgb(0, 0, 255)">var</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">  </span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">  </span><span class="token style language-css selector class">.right</span><span class="token style language-css selector"> </span><span class="token style language-css selector class">.item</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    ...</span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">background-color</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> </span><span class="token style language-css function" style="color:rgb(0, 0, 255)">var</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">transform-origin</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> left bottom</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">    </span><span class="token style language-css property">transform</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token style language-css"> </span><span class="token style language-css function" style="color:rgb(0, 0, 255)">rotate</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css function" style="color:rgb(0, 0, 255)">calc</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css number" style="color:rgb(9, 134, 88)">60</span><span class="token style language-css unit">deg</span><span class="token style language-css"> </span><span class="token style language-css operator" style="color:rgb(0, 0, 0)">*</span><span class="token style language-css"> </span><span class="token style language-css function" style="color:rgb(0, 0, 255)">var</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token style language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css">  </span><span class="token style language-css punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#000000"><span class="token style language-css"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">style</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">box</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">left</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">0</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#ff7875</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">-1</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#ff9c6e</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">-2</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#ffc069</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">right</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">0</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#d3f261</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">1</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#95de64</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag attr-value" style="color:rgb(128, 0, 0)">item</span><span class="token tag attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag special-attr attr-name" style="color:rgb(255, 0, 0)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:rgb(4, 81, 165)">=</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--i</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css number" style="color:rgb(9, 134, 88)">2</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value value css language-css variable" style="color:rgb(9, 134, 88)">--clr</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:rgb(128, 0, 0)">#5cdbd3</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag special-attr attr-value punctuation" style="color:rgb(4, 81, 165)">&quot;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="转盘的旋转">转盘的旋转<a class="hash-link" aria-label="Direct link to 转盘的旋转" title="Direct link to 转盘的旋转" href="/blog/2024/04/17/lottery-turntable#转盘的旋转">​</a></h2>
<p>我们已知晓转盘的布局如何实现，至于中央按钮和奖品都可以用绝对定位实现，这里我就不再详细说明。一起来看看如何控制转盘的旋转。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="旋转的原理">旋转的原理<a class="hash-link" aria-label="Direct link to 旋转的原理" title="Direct link to 旋转的原理" href="/blog/2024/04/17/lottery-turntable#旋转的原理">​</a></h3>
<p>控制转盘旋转很简单，我们只旋转外层的容器 box 即可。如下图所示，在 Chrome 元素控制台中，我们逐渐增加 <code>transform: rotate(0deg)</code> 的取值，就实现了转盘的顺时针旋转。</p>
<p><img decoding="async" loading="lazy" src="/assets/images/rotate-8bba99e9db1165120d60bfea3ccf4dc6.gif" width="850" height="320" class="img_ev3q"></p>
<p>需要注意的是，当容器 box 旋转时，会带动着中央按钮 btn 一起旋转。为了实现 box 旋转而 btn 保持不变的效果，box 顺时针旋转多少度，我们就需要让中央按钮逆时针旋转多少度。因此后续旋转的 js 代码中，我们会有如下代码：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">box</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">transform</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string string" style="color:rgb(163, 21, 21)">rotate(</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">${</span><span class="token template-string interpolation">begin</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token template-string string" style="color:rgb(163, 21, 21)">deg)</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// translate(-50%, -50%) 是为了让绝对定位的中央按钮居中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">btn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">transform</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string string" style="color:rgb(163, 21, 21)">translate(-50%, -50%) rotate(</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">${</span><span class="token template-string interpolation operator" style="color:rgb(0, 0, 0)">-</span><span class="token template-string interpolation">begin</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token template-string string" style="color:rgb(163, 21, 21)">deg)</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="基础代码">基础代码<a class="hash-link" aria-label="Direct link to 基础代码" title="Direct link to 基础代码" href="/blog/2024/04/17/lottery-turntable#基础代码">​</a></h3>
<p>现在我给出基础的旋转代码：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> box </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(9, 134, 88)">document</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">getElementById</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;box&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  btn </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(9, 134, 88)">document</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">getElementById</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;btn&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">btn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> randomIndex </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">parseInt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token known-class-name class-name" style="color:rgb(38, 127, 153)">Math</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">random</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token function" style="color:rgb(0, 0, 255)">run</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">randomIndex </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">60</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">30</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> timer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(0, 0, 255)">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">run</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token parameter">angle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> begin </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> base </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1800</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  timer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">setInterval</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> finalAngle </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> base </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> angle</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">begin </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> finalAngle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token function" style="color:rgb(0, 0, 255)">clearInterval</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">timer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    box</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">transform</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string string" style="color:rgb(163, 21, 21)">rotate(</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">${</span><span class="token template-string interpolation">begin</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token template-string string" style="color:rgb(163, 21, 21)">deg)</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    btn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">transform</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string string" style="color:rgb(163, 21, 21)">translate(-50%, -50%) rotate(</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">${</span><span class="token template-string interpolation operator" style="color:rgb(0, 0, 0)">-</span><span class="token template-string interpolation">begin</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token template-string string" style="color:rgb(163, 21, 21)">deg)</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    begin </span><span class="token operator" style="color:rgb(0, 0, 0)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">16</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>代码主要分为 2 部分，第 1 部分绑定 btn 点击事件，第 2 部分控制 box 和 btn 的旋转。</p>
<p>我们先看第 1 部分，这部分我们会先获取一个 0 ~ 5 的随机下标 randomIndex，利用 randomIndex * 60 来计算旋转的角度（一个奖品扇形区域是 60 度）。之所以要再加上 30 度，是因为我们希望旋转结束之后，指针指向中奖区域的中轴线。</p>
<p>再看第 2 部分，我们设置了 1800 度的基础角度 base（因为 1800 = 360 * 5，也就是至少要旋转 5 圈后才会停止）。又设置了一个计时器，每过 16 秒就旋转 30 度，直到超过目标度数后才停止旋转。</p>
<p>代码的效果如下：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/base-rotate-a69cd6753ddace42e63757261e723f53.gif" width="360" height="314" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="改善体验">改善体验<a class="hash-link" aria-label="Direct link to 改善体验" title="Direct link to 改善体验" href="/blog/2024/04/17/lottery-turntable#改善体验">​</a></h3>
<p>基础旋转代码虽然实现了效果，但体验还有待改善。主要有两点需要优化。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="旋转时按钮不能被再次点击">旋转时，按钮不能被再次点击<a class="hash-link" aria-label="Direct link to 旋转时，按钮不能被再次点击" title="Direct link to 旋转时，按钮不能被再次点击" href="/blog/2024/04/17/lottery-turntable#旋转时按钮不能被再次点击">​</a></h4>
<p>开始旋转时，此时按钮应该不能被再次点击。只有旋转结束后，按钮才能被再次点击，因此我们需要增加一个点击锁 clickLock。关键代码如下：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token spread operator" style="color:rgb(0, 0, 0)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> clickLock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">btn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">clickLock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(0, 0, 255)">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(0, 0, 0)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> timer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(0, 0, 255)">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">run</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token parameter">angle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(0, 0, 0)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  clickLock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  timer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">setInterval</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token spread operator" style="color:rgb(0, 0, 0)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">begin </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> finalAngle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      clickLock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token function" style="color:rgb(0, 0, 255)">clearInterval</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">timer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token spread operator" style="color:rgb(0, 0, 0)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>开始时 clickLock 为 false，转盘旋转时 clickLock 会被置为 true，停止旋转时 clickLock 会被置为 false。这样转盘旋转期间，如果用户继续点击按钮，点击事件会被拦截、不再触发旋转函数 run。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="旋转时速度需要越来越慢">旋转时，速度需要越来越慢<a class="hash-link" aria-label="Direct link to 旋转时，速度需要越来越慢" title="Direct link to 旋转时，速度需要越来越慢" href="/blog/2024/04/17/lottery-turntable#旋转时速度需要越来越慢">​</a></h4>
<p>基础代码实现的转盘，转盘旋转的速度是恒定的。当旋转结束时，转盘会瞬间停止，这会让用户感觉很突兀。正常来说，转盘的旋转速度应该越来越慢。</p>
<p>旋转速度越来越慢，可以用旋转的角度越来越小简介实现，越来越小的旋转角度可以用下面的公式计算：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">step = (final - current) * ratio</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>current 是已经旋转的角度。</li>
<li>step 是在 current 基础上，下一次转动需要增加的角度。</li>
<li>ratio 是一个比例。</li>
</ul>
<p>从公式中可以看出，随着 current 越来越大，step 会越来越小，也就是下一次转动的角度会越来越小。</p>
<p>我们把公式写成代码，假设每 16ms 需要旋转一定角度，最终要旋转 1800 度：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> current </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> final </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1800</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> ratio </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> timer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">setInterval</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">current </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> final</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token function" style="color:rgb(0, 0, 255)">clearInterval</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">timer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> step </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">final </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> current</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> ratio</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(38, 127, 153)">console</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">step</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  current </span><span class="token operator" style="color:rgb(0, 0, 0)">+=</span><span class="token plain">  </span><span class="token known-class-name class-name" style="color:rgb(38, 127, 153)">Math</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">ceil</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">step</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">16</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>此段代码的打印的 step 如下，不难看出 step 变得越来越小了。</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="360" height="250" class="img_ev3q"></p>
<p>上述代码可以应用到基础代码中，从而让转盘的旋转速度越来越慢。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="中奖的概率">中奖的概率<a class="hash-link" aria-label="Direct link to 中奖的概率" title="Direct link to 中奖的概率" href="/blog/2024/04/17/lottery-turntable#中奖的概率">​</a></h2>
<p>之前旋转角度，我们是先获取了 0 ~ 5 之间的一个随机下标（此下标就是奖品的下标），然后计算了旋转角度。这时每个奖品的中奖概率都是 20%。</p>
<p>但抽奖一般都需要控制中奖的概率，这个该怎么实现呢？</p>
<p>在抽奖转盘中，我们可以利用权重的方式控制抽奖概率。</p>
<p>假设我们有 6 个奖项，需要控制奖品 0 ~ 奖品 4 的中奖概率都是 1%，而奖品 5 的中奖概率是 95%，我们应该如何做呢？</p>
<p>控制中奖概率的代码如下所示：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">getRandomIndex</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> weights </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> random </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(38, 127, 153)">Math</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">floor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token known-class-name class-name" style="color:rgb(38, 127, 153)">Math</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">random</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> newWeights </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> weights</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">concat</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">random</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">sort</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> randomIndex </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> newWeights</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">indexOf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">random</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> randomIndex</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们先给出了一个 weights 数组，又获取了一个 100 以内的随机数 random，并对 random 向下取整</p>
<ul>
<li>random 为 0 的概率是 1%，因为小于 1 的数都被向下取整为 0；</li>
<li>random 为 1 的概率是 1%，因为大于 1 小于 2 的数都被向下  取整为 1；</li>
<li>random 为 2 的概率是 1%，因为大于 2 小于 3 的数都被向下取整为 2；</li>
<li>random 为 3 的概率是 1%，因为大于 3 小于 4 的数都被向下取整为 3；</li>
<li>random 为 4 的概率是 1%，因为大于 4 小于 5 的数都被向下取整为 4；</li>
<li>random 大于 5 小于 100 的概率则是 95%。</li>
</ul>
<p>我们把 random 插入到 weights 数组中，再从小到大排序，此时 random 对应的下标就是奖品下标。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="完整代码">完整代码<a class="hash-link" aria-label="Direct link to 完整代码" title="Direct link to 完整代码" href="/blog/2024/04/17/lottery-turntable#完整代码">​</a></h2>
<p><a href="https://codepen.io/lijunlin2022/pen/YzMdvEL" target="_blank" rel="noopener noreferrer">turntable | codepen</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" href="/blog/2024/04/17/lottery-turntable#总结">​</a></h2>
<p>本文说明了 H5 如何实现抽奖转盘：</p>
<ul>
<li>转盘的布局：布局时要将转盘拆分为左、右两部分，最后合并为一个转盘。</li>
<li>转盘的旋转：改变转盘容器的旋转角度，可以实现转盘的旋转。加载锁，旋转速度越变越慢可以改善转盘的使用体验。</li>
<li>中奖的概率：权重数组可以控制中奖概率。</li>
</ul>
<p>拳打 H5，脚踢小程序。我是「小霖家的混江龙」，关注我，带你了解更多实用的 H5、小程序武学。</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/h-5">H5</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2024/05/07/springback"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">仿物美超市，H5 列表滚动回弹效果如何实现？</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2024/04/08/waterfall-flow"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">对比小红书与电商三巨头的瀑布流，H5 瀑布流实现方案应该如何选择？</div></a></nav><div></div></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/blog/2024/04/17/lottery-turntable#css-旋转相关的语法">CSS 旋转相关的语法</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2024/04/17/lottery-turntable#转盘的布局">转盘的布局</a><ul><li><a class="table-of-contents__link toc-highlight" href="/blog/2024/04/17/lottery-turntable#有问题的思路">有问题的思路</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2024/04/17/lottery-turntable#正确的思路">正确的思路</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2024/04/17/lottery-turntable#转盘的旋转">转盘的旋转</a><ul><li><a class="table-of-contents__link toc-highlight" href="/blog/2024/04/17/lottery-turntable#旋转的原理">旋转的原理</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2024/04/17/lottery-turntable#基础代码">基础代码</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2024/04/17/lottery-turntable#改善体验">改善体验</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2024/04/17/lottery-turntable#中奖的概率">中奖的概率</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2024/04/17/lottery-turntable#完整代码">完整代码</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2024/04/17/lottery-turntable#总结">总结</a></li></ul></div></div></div></div></div></div>
</body>
</html>